<!DOCTYPE html>
<!-- saved from url=(0064)https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./网关_百度百科_files/element.min.js.下载"></script><script async="" src="./网关_百度百科_files/monkey.min.js.下载"></script><script async="" src="./网关_百度百科_files/dp.min.js.下载"></script><script charset="utf-8" async="" src="./网关_百度百科_files/snippetcacher.php"></script><script type="text/javascript" async="" src="./网关_百度百科_files/lcum"></script>

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="referrer" content="always">
<meta name="description" content="网关(Gateway)又称网间连接器、协议转换器。网关在网络层以上实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关既可以用于广域网互连，也可以用于局域网互连。 网关是一种充当转换重任的计算机系统或设备。使用在不同的通信协议、数据格式或语言，甚至体系结构...">
<title>网关_百度百科</title>
<link rel="shortcut icon" href="https://baike.baidu.com/favicon.ico" type="image/x-icon">
<link rel="icon" sizes="any" mask="" href="https://www.baidu.com/img/baidu.svg">

<meta name="keywords" content="网关 Internet网关 Gateway(网关) 网关概念 网关举例说明 网关设置 网关区别 网关类型 网关跨网关 网关RIP协议 网关内部OSPF 网关外部EGP">
<meta name="image" content="https://bkssl.bdimg.com/cms/static/baike.png">
<script src="./网关_百度百科_files/hm.js.下载"></script><script async="" src="./网关_百度百科_files/alog.min.js.下载"></script><script type="text/javascript">
  // 配置 PD 监控。
  window.alogObjectConfig = {
    product: '103',
    page: '103_1',
    speed: {
      sample: '0.008'
    },
    monkey: {
      sample: '1',
      hid: '1533'
    },
    exception: { 
      sample: '0.004'
    },
    feature: {
      sample: '0.004'
    },
    csp: {
      sample: '0.008',
      'default-src': [
        {match: '*.baidu.com,*.bdimg.com,localhost', target: 'Accept'},
        {match: '*', target: 'Accept,Warn'}
      ]
    }
  };

  void function(a,b,c,d,e,f,g){a.alogObjectName=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=a[e].l||+new Date,d="https:"===a.location.protocol?"https://fex.bdstatic.com"+d:"http://fex.bdstatic.com"+d;var h=!0;if(a.alogObjectConfig&&a.alogObjectConfig.sample){var i=Math.random();a.alogObjectConfig.rand=i,i>a.alogObjectConfig.sample&&(h=!1)}h&&(f=b.createElement(c),f.async=!0,f.src=d+"?v="+~(new Date/864e5)+~(new Date/864e5),g=b.getElementsByTagName(c)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","/hunter/alog/alog.min.js","alog"),void function(){function a(){}window.PDC={mark:function(a,b){alog("speed.set",a,b||+new Date),alog.fire&&alog.fire("mark")},init:function(a){alog("speed.set","options",a)},view_start:a,tti:a,page_ready:a}}();
  void function(n){var o=!1;n.onerror=function(n,e,t,c){var i=!0;return!e&&/^script error/i.test(n)&&(o?i=!1:o=!0),i&&alog("exception.send","exception",{msg:n,js:e,ln:t,col:c}),!1},alog("exception.on","catch",function(n){alog("exception.send","exception",{msg:n.msg,js:n.path,ln:n.ln,method:n.method,flag:"catch"})})}(window);
</script>
<meta name="csrf-token" content="">

<!--[if lte IE 9]>
<script>
    (function() {
      var e = "abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
        i = e.length;
      while (i--) {
        document.createElement(e[i]);
      }
    })();
  </script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="./网关_百度百科_files/wiki-lemma_7bb52c1.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/wiki-common-base_3bd3a2e.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/userbar_10e138c.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/userbar-n_bcd805f.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/headTabBar_c3a1b84.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/searchbar_a5024db.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/wiki-lemma-module_98d5cce.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/navbar_0697c78.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/announcement_126f5e6.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/unameFiller_d631c34.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/label_ca156c6.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/sideShare_2af1cbd.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/pageMask_ff9a193.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/userCard_f83cf16.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/shCore_7fba49a.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/shCoreDefault_3f91dc3.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/mainContent_98e3702.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/lemmaRelation_ac86a59.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/zhixin_0aeccef.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/sideAuth_c13d91a.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/footer_main_9d4d7ff.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/toolButtons-n_6e90fdd.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/userInfo-n_7e90184.css"><link rel="stylesheet" type="text/css" href="./网关_百度百科_files/searchHeader-n_8b1fc24.css"><script type="text/javascript">
    alog('speed.set', 'ht', +new Date);
</script><script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?55b574651fcae74b0a9f1cf9c8d7c93a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script><script type="text/javascript" src="./网关_百度百科_files/wiki-lemma-module-lemmaRelation_15cc52d.js.下载"></script><script type="text/javascript" src="./网关_百度百科_files/lemmaReferenceTip_d50e02d.js.下载"></script><link rel="stylesheet" href="./网关_百度百科_files/share_style0_16.css"><script src="./网关_百度百科_files/qc.php" type="text/javascript" charset="utf-8"></script></head>




<body class="wiki-lemma normal"><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./网关_百度百科_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div>


<div class="header-wrapper pc-header-new">
<div class="topbar cmn-clearfix">
<ul class="wgt-userbar" id="j-wgt-userbar"><li>
<a href="http://www.baidu.com/" nslog="normal" nslog-type="10080112">百度首页</a>
</li>
<li class="userbar_user" data-action="showUserMenu">
<a href="javascript:;" nslog="normal" nslog-type="10080113"><span>miaochuanhai</span><i class="icon-triangle-down"></i></a>
</li>
<li class="userbar_message" data-action="showUserMsg">
<a href="javascript:;" nslog="normal" nslog-type="10080115">消息<span class="userbar_message_new_num"></span><i class="icon-triangle-down"></i></a>
</li>
<li class="userbar_mall">
<a href="https://baike.baidu.com/mall/" target="_blank" nslog="normal" nslog-type="10080114">商城</a>
</li>
</ul>
<div class="separator"></div>
<div class="wiki-common-headTabBar">
<a href="https://www.baidu.com/" nslog="normal" nslog-type="10600112" data-href="https://www.baidu.com/s?ie=utf-8&amp;fr=bks0000&amp;wd=">网页</a>
<a href="http://news.baidu.com/" nslog="normal" nslog-type="10600112" data-href="http://news.baidu.com/ns?tn=news&amp;cl=2&amp;rn=20&amp;ct=1&amp;fr=bks0000&amp;ie=utf-8&amp;word=">新闻</a>
<a href="https://tieba.baidu.com/" nslog="normal" nslog-type="10600112" data-href="https://tieba.baidu.com/f?ie=utf-8&amp;fr=bks0000&amp;kw=">贴吧</a>
<a href="https://zhidao.baidu.com/" nslog="normal" nslog-type="10600112" data-href="https://zhidao.baidu.com/search?pn=0&amp;&amp;rn=10&amp;lm=0&amp;fr=bks0000&amp;word=">知道</a>
<a href="http://music.baidu.com/" nslog="normal" nslog-type="10600112" data-href="http://music.baidu.com/search?f=ms&amp;ct=134217728&amp;ie=utf-8&amp;rn=&amp;lm=-1&amp;pn=30&amp;fr=bks0000&amp;key=">音乐</a>
<a href="http://image.baidu.com/" nslog="normal" nslog-type="10600112" data-href="http://image.baidu.com/search/index?tn=baiduimage&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;nc=1&amp;ie=utf-8&amp;word=">图片</a>
<a href="http://v.baidu.com/" nslog="normal" nslog-type="10600112" data-href="http://v.baidu.com/v?ct=301989888&amp;rn=20&amp;pn=0&amp;db=0&amp;s=22&amp;ie=utf-8&amp;fr=bks0000&amp;word=">视频</a>
<a href="http://map.baidu.com/" nslog="normal" nslog-type="10600112" data-href="http://map.baidu.com/m?ie=utf-8&amp;fr=bks0000&amp;word=">地图</a>
<a href="https://wenku.baidu.com/" nslog="normal" nslog-type="10600112" data-href="https://wenku.baidu.com/search?lm=0&amp;od=0&amp;ie=utf-8&amp;fr=bks0000&amp;word=">文库</a>
<b class="baike">百科</b>
</div>
</div>
<div class="header">
<div class="layout">
<div class="wgt-searchbar wgt-searchbar-new wgt-searchbar-main cmn-clearfix wgt-searchbar-large">
<div class="logo-container">
<a class="logo cmn-inline-block" title="到百科首页" href="https://baike.baidu.com/">
<span class="cmn-baike-logo">
<em class="cmn-icon cmn-icons cmn-icons_logo-bai"></em>
<em class="cmn-icon cmn-icons cmn-icons_logo-du"></em>
<em class="cmn-icon cmn-icons cmn-icons_logo-baike"></em>
</span>
</a>
</div>
<div class="search">
<div class="form">
<form id="searchForm" action="https://baike.baidu.com/search/word" method="GET" target="_self">
<input id="query" nslog="normal" nslog-type="10080011" name="word" type="text" autocomplete="off" autocorrect="off" value="网关"><button id="search" nslog="normal" nslog-type="10080008" type="button">进入词条</button><button id="searchLemma" nslog="normal" nslog-type="10080009" type="button">全站搜索</button><a class="help" href="https://baike.baidu.com/help" nslog="normal" nslog-type="10080010" target="_blank">帮助</a>
</form>
<form id="searchLemmaForm" action="https://baike.baidu.com/search" method="GET" target="_self">
<input id="searchLemmaQuery" name="word" type="hidden">
<input name="pn" type="hidden" value="0">
<input name="rn" type="hidden" value="0">
<input name="enc" type="hidden" value="utf8">
</form>
<ul id="suggestion" class="suggestion">
<div class="sug"></div>
<li class="extra">
<span id="close" nslog="normal" nslog-type="10080012">关闭</span>
</li>
</ul>
</div></div>
</div>
<div class="declare-wrap" id="J-declare-wrap" style="display: block;">
<div class="declare" id="J-declare">声明：百科词条人人可编辑，词条创建和修改均免费，绝不存在官方及代理商付费代编，请勿上当受骗。<a class="declare-details" target="_blank" href="https://baike.baidu.com/common/declaration">详情&gt;&gt;</a>
<div class="close-btn" id="J-declare-close">
<em class="cmn-icon cmn-icons cmn-icons_close"></em>
</div>
</div>
</div>
<a target="_blank" class="topA" nslog-type="10002204" nslog-params="{&quot;adId&quot;:&quot;2430&quot;, &quot;adTitle&quot;: &quot;百科校园招新&quot;, &quot;adPos&quot;: 3}" href="https://baike.baidu.com/item/%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%E6%A0%A1%E5%9B%AD%E5%A4%A7%E4%BD%BF/10037214?secondId=103586&amp;mediaId=mda-gkasnu0pyig5htm0" title="" style="background-image:url(https://baikebcs.bdimg.com/adpic/校园招新-右上-1.png);"></a></div>
</div>
</div>
<div class="navbar-wrapper">
<div class="wgt-navbar">
<div class="navbar-bg">
<div class="navbar-bg-top">
<div class="navbar-content layout">
<div class="navbar-content-box">
<dl class="index ">
<dt><a href="https://baike.baidu.com/">首页</a></dt>
</dl>
<dl class="cat ">
<dt><a>分类</a></dt>
<dd>
<div><a href="https://baike.baidu.com/art" target="_blank" class="art">艺术</a></div>
<div><a href="https://baike.baidu.com/science" target="_blank" class="technology">科学</a></div>
<div><a href="https://baike.baidu.com/ziran" target="_blank">自然</a></div>
<div><a href="https://baike.baidu.com/wenhua" target="_blank">文化</a></div>
<div><a href="https://baike.baidu.com/dili" target="_blank">地理</a></div>
<div><a href="https://baike.baidu.com/shenghuo" target="_blank">生活</a></div>
<div><a href="https://baike.baidu.com/shehui" target="_blank">社会</a></div>
<div><a href="https://baike.baidu.com/renwu" target="_blank">人物</a></div>
<div><a href="https://baike.baidu.com/jingji" target="_blank">经济</a></div>
<div><a href="https://baike.baidu.com/tiyu" target="_blank">体育</a></div>
<div><a href="https://baike.baidu.com/lishi" target="_blank">历史</a></div>
</dd>
</dl>
<dl class="special ">
<dt><a>特色百科</a></dt>
<dd>
<div><a href="https://baike.baidu.com/calendar/" target="_blank">历史上的今天</a></div>
<div><a href="https://baike.baidu.com/museum/" target="_blank">数字博物馆</a></div>
<div><a href="https://baike.baidu.com/item/%E5%8F%B2%E8%AE%B0%C2%B72016?fr=navbar" target="_blank">史记·2016</a></div>
<div><a href="https://baike.baidu.com/city/" target="_blank">城市百科</a></div>
<div><a href="https://baike.baidu.com/operation/worldwar2" target="_blank">二战百科</a></div>
<div><a href="https://baike.baidu.com/feiyi?fr=dhlfeiyi" target="_blank">非遗百科</a></div>
</dd>
</dl>
<dl class="user">
<dt><a>用户</a></dt>
<dd>
<div><a href="https://baike.baidu.com/kedou/" target="_blank">蝌蚪团</a></div>
<div><a href="https://baike.baidu.com/event/ranmeng/" target="_blank">燃梦计划</a></div>
<div><a href="https://baike.baidu.com/task/" target="_blank">百科任务</a></div>
<div><a href="https://baike.baidu.com/mall/" target="_blank">百科商城</a></div>
</dd>
</dl>
<dl class="cooperation">
<dt><a>权威合作</a></dt>
<dd>
<div><a href="https://baike.baidu.com/operation/cooperation#joint" target="_blank">合作模式</a></div>
<div><a href="https://baike.baidu.com/operation/cooperation#issue" target="_blank">常见问题</a></div>
<div><a href="https://baike.baidu.com/operation/cooperation#connection" target="_blank">联系方式</a></div>
</dd>
</dl>
<dl class="mobile">
<dt><a>手机百科</a></dt>
<dd>
<div><a href="https://baike.baidu.com/m#wap" target="_blank">网页版</a></div>
</dd>
</dl>
<div class="usercenter">
<div><a href="https://baike.baidu.com/usercenter" target="_blank"><em class="cmn-icon cmn-icons cmn-icons_navbar-usercenter"></em>个人中心</a></div>
</div></div>
</div>
</div>
</div>
</div>
</div>


<div class="body-wrapper">
<div class="before-content">
</div>
<div class="content-wrapper">
<div class="content">
<div class="personal-content">
</div>
<div class="main-content">
<a class="posterFlag expert-icon " href="javascript:;" title="权威专家认证词条"></a>
<div class="top-tool">
<a class="add-sub-icon top-tool-icon" href="javascript:;" title="添加义项" nslog-type="50000101">
<em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_add-subLemma-solid"></em>
</a>
<a href="https://baike.baidu.com/divideload/%E7%BD%91%E5%85%B3" title="拆分词条" target="_blank" class="split-icon top-tool-icon" style="display:none;" nslog-type="50000104">
<em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_lemma-split"></em>
</a>
<div class="top-collect top-tool-icon" nslog="area" nslog-type="50000102">
<em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_star-solid"></em>
<span class="collect-text">收藏</span>
<div class="collect-tip">查看<a href="https://baike.baidu.com/uc/favolemma" target="_blank">我的收藏</a></div>
</div>
<a href="javascript:void(0);" id="j-top-vote" class="top-vote top-tool-icon" nslog-type="10060801">
<em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_zan-solid"></em>
<span class="vote-count">4593</span>
<span class="vote-tip">有用+1</span>
<span class="voted-tip">已投票</span>
</a><div class="bksharebuttonbox top-share">
<a class="top-share-icon top-tool-icon" nslog-type="9067">
<em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_share"></em>
<span class="share-count" id="j-topShareCount">160</span>
</a>
<div class="new-top-share" id="top-share">
<ul class="top-share-list">
<li class="top-share-item">
<a class="share-link bds_qzone" href="javascript:void(0);" nslog-type="10060501">
<em class="cmn-icon cmn-icons cmn-icons_logo-qzone"></em>
</a>
</li>
<li class="top-share-item">
<a class="share-link bds_tsina" href="javascript:void(0);" nslog-type="10060701">
<em class="cmn-icon cmn-icons cmn-icons_logo-sina-weibo"></em>
</a>
</li>
<li class="top-share-item">
<a class="bds_wechat" href="javascript:void(0);" nslog-type="10060401">
<em class="cmn-icon cmn-icons cmn-icons_logo-wechat"></em>
</a>
</li>
<li class="top-share-item">
<a class="share-link bds_tqq" href="javascript:void(0);" nslog-type="10060601">
<em class="cmn-icon cmn-icons cmn-icons_logo-qq"></em>
</a>
</li>
</ul>
</div>
</div>
</div>
<div style="width:0;height:0;clear:both"></div><dl class="lemmaWgt-lemmaTitle lemmaWgt-lemmaTitle-">
<dd class="lemmaWgt-lemmaTitle-title">
<h1>网关</h1>
<a href="javascript:;" class="edit-lemma cmn-btn-hover-blue cmn-btn-28 j-edit-link"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_edit-lemma"></em>编辑</a>
<a class="lock-lemma" target="_blank" href="https://baike.baidu.com/view/10812319.htm" title="锁定" style="display: inline;"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_lock-lemma"></em>锁定</a>
</dd>
</dl><div class="authorityListPrompt">
<div class="main-content-zj">
本词条由<a href="http://www.cast.org.cn/" target="_blank" class="nslog:7175">“科普中国”百科科学词条编写与应用工作项目</a>
审核
。</div>
</div>
<div class="promotion-declaration">
</div><div class="lemma-summary" label-module="lemmaSummary">
<div class="para" label-module="para">网关(Gateway)又称网间连接器、<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E8%BD%AC%E6%8D%A2">协议转换</a>器。网关在网络层以上实现<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%BF%9E">网络互连</a>，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关既可以用于<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>互连，也可以用于<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>互连。 网关是一种充当转换重任的<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F">计算机系统</a>或设备。使用在不同的<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE">通信协议</a>、数据格式或语言，甚至<a target="_blank" href="https://baike.baidu.com/item/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84">体系结构</a>完全不同的两种系统之间，网关是一个翻译器。与<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E6%A1%A5">网桥</a>只是简单地传达信息不同，网关对收到的信息要重新打包，以适应目的系统的需求。同层--<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E5%B1%82">应用层</a>。</div>
</div>
<div class="configModuleBanner">
</div><div class="basic-info cmn-clearfix">
<dl class="basicInfo-block basicInfo-left">
<dt class="basicInfo-item name">中文名</dt>
<dd class="basicInfo-item value">
网关
</dd>
<dt class="basicInfo-item name">外文名</dt>
<dd class="basicInfo-item value">
Gateway
</dd>
</dl><dl class="basicInfo-block basicInfo-right">
<dt class="basicInfo-item name">作&nbsp;&nbsp;&nbsp;&nbsp;用</dt>
<dd class="basicInfo-item value">
在网络层以上实现<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%BF%9E">网络互连</a>
</dd>
<dt class="basicInfo-item name">应用领域</dt>
<dd class="basicInfo-item value">
计算机
</dd>
</dl></div>
<div class="lemmaWgt-lemmaCatalog">
<div class="lemma-catalog">
<h2 class="block-title">目录</h2>
<div class="catalog-list column-4">
<ol>
<li class="level1">
<span class="index">1</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#1">概念</a></span>
</li>
<li class="level1">
<span class="index">2</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#2">举例说明</a></span>
</li>
<li class="level1">
<span class="index">3</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3">设置</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3_1">手动</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3_2">自动</a></span>
</li>
<li class="level1">
<span class="index">4</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4">区别</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_1">协议</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_2">外部</a></span>
</li>
</ol><ol><li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_3">内部</a></span>
</li>
<li class="level1">
<span class="index">5</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5">类型</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5_1">传输</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5_2">应用</a></span>
</li>
<li class="level1">
<span class="index">6</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6">跨网关</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6_1">产品选用</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6_2">安装要点</a></span>
</li>
<li class="level1">
<span class="index">7</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7">RIP协议</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_1">局限性</a></span>
</li>
</ol><ol><li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_2">实现</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_3">RIP的限制</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_4">配置</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_5">RIP配置实例：</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_6">分析</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_7">说明</a></span>
</li>
<li class="level1">
<span class="index">8</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8">内部OSPF</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_1">链路状态</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_2">区域</a></span>
</li>
</ol><ol><li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_3">OSPF网络分类</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_4">DR和BDR</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_5">协议组成</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_6">OSPF思想</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_7">四种路由器</a></span>
</li>
<li class="level1">
<span class="index">9</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9">外部EGP</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9_1">三大功能</a></span>
</li>
<li class="level2">
<span class="index">▪</span>
<span class="text"><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9_2">九种报文类型</a></span>
</li>
</ol>

</div>
</div>
</div>
<div class="anchor-list">
<a name="1" class="lemma-anchor para-title"></a>
<a name="sub807_1" class="lemma-anchor "></a>
<a name="概念" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>概念</h2>
</div>
<div class="para" label-module="para">大家都知道，从一个<a target="_blank" href="https://baike.baidu.com/item/%E6%88%BF%E9%97%B4">房间</a>走到另一个房间，必然要经过一扇门。同样，从一个网络向另一个网络发送信<div class="lemma-picture text-pic layout-right" style="width:220px; float: right;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/4e0b3ea485be6ab59152ee45?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:141px;">
<img class="" src="./网关_百度百科_files/7af40ad162d9f2d394b1729da9ec8a136327cc24.jpg" alt="网关" style="width:220px;height:141px;">
</a>
<span class="description">
网关
</span>
</div>息，也必须经过一道“<a target="_blank" href="https://baike.baidu.com/item/%E5%85%B3%E5%8F%A3">关口</a>”，这道关口就是网关。<a target="_blank" href="https://baike.baidu.com/item/%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89">顾名思义</a>，网关（<a target="_blank" href="https://baike.baidu.com/item/Gateway">Gateway</a>）<sup>[1]</sup><a class="sup-anchor" name="ref_[1]_807">&nbsp;</a>
就是一个网络连接到另一个网络的“关口”。也就是网络<a target="_blank" href="https://baike.baidu.com/item/%E5%85%B3%E5%8D%A1">关卡</a>。</div>
<div class="para" label-module="para">网关(Gateway)又称网间连接器、协议转换器。默认网关在<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C">网络</a>层上以实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关的结构也和<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>类似，不同的是互连层。网关既可以用于<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>互连，也可以用于<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>互连<sup>[1]</sup><a class="sup-anchor" name="ref_[1]_807">&nbsp;</a>
。</div>
<div class="para" label-module="para">【说明：由于历史的原因，许多有关TCP/IP的文献曾经把网络层使用的路由器称为网关，在今天很多局域网采用都是路由来接入网络，因此通常指的网关就是路由器的IP！】<sup>[2]</sup><a class="sup-anchor" name="ref_[2]_807">&nbsp;</a>
</div>
<div class="para" label-module="para">在<a target="_blank" href="https://baike.baidu.com/item/OSI">OSI</a>中，网关有两种：一种是面向连接的网关，一种是无连接的网关。当两个<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>之间有一定距离时，往往将一个网关分成两半，中间用一条链路连接起来，我们称之为半网关。</div>
<div class="para" label-module="para">按照不同的分类标准，网关也有很多种。<a target="_blank" href="https://baike.baidu.com/item/TCP%2FIP%E5%8D%8F%E8%AE%AE">TCP/IP协议</a>里的网关是最常用的，在这里我们所讲的“网关”均指TCP/IP协议下的网关。</div>
<div class="para" label-module="para">那么网关到底是什么呢？网关实质上是一个网络通向其他网络的<a target="_blank" href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80">IP地址</a>。比如有网络A和网络B，网络A的<a target="_blank" href="https://baike.baidu.com/item/IP">IP</a>地址范围为“192.168.1.1~192. 168.1.254”，<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">子网掩码</a>为255.255.255.0；网络B的IP地址范围为“192.168.2.1~192.168.2.254”，子网掩码为255.255.255.0。在没有<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台<a target="_blank" href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA">交换机</a>（或<a target="_blank" href="https://baike.baidu.com/item/%E9%9B%86%E7%BA%BF%E5%99%A8">集线器</a>）上，TCP/IP协议也会根据<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">子网掩码</a>（255.255.255.0）判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现<a target="_blank" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85">数据包</a>的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机（如附图所示）。网络A向网络B转发数据包的过程。</div>
<div class="para" label-module="para">所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信。那么这个IP地址是哪台机器的IP地址呢？网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。</div>
<div class="para" label-module="para">在和 Novell NetWare 网络交互操作的上下文中，网关在 Windows 网络中使用的服务器信息块 (SMB) 协议以及<a target="_blank" href="https://baike.baidu.com/item/NetWare">NetWare</a>网络使用的 NetWare 核心协议 (NCP) 之间起着桥梁的<a target="_blank" href="https://baike.baidu.com/item/%E4%BD%9C%E7%94%A8/33062" data-lemmaid="33062">作用</a>。网关也被称为 IP路由器。</div><div class="anchor-list">
<a name="2" class="lemma-anchor para-title"></a>
<a name="sub807_2" class="lemma-anchor "></a>
<a name="举例说明" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>举例说明</h2>
</div>
<div class="para" label-module="para">假设你的名字叫<a target="_blank" href="https://baike.baidu.com/item/%E5%B0%8F%E4%B8%8D%E7%82%B9">小不点</a>(很小)，你住在一个大院子里，你的邻居有很多小伙伴，<a target="_blank" href="https://baike.baidu.com/item/%E7%88%B6%E6%AF%8D">父母</a>是你的网关。当你想跟院子里的某个小伙伴玩，只要你在院子里大喊一声</div>
<div class="para" label-module="para" style="text-align: center;"><div class="lemma-picture text-pic layout-center" style="width:250px; float: none; display: block; margin: 0px auto; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/a6efce1b9d16fdfa3265015bb48f8c5494ee7b7e?fr=lemma&amp;ct=single" target="_blank" title="网关例子" style="width:250px;height:124px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D250/sign=a7b31bd5352ac65c63056176cbf3b21d/a6efce1b9d16fdfa3265015bb48f8c5494ee7b7e.jpg" alt="网关例子" style="width:250px;height:124px;">
</a>
<span class="description">
网关例子
</span>
</div></div>
<div class="para" label-module="para">他的名字，他听到了就会回应你，并且跑出来跟你玩。</div>
<div class="para" label-module="para">但是你<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%B6%E9%95%BF">家长</a>不允许你走出大门，你想与外界发生的一切联系，都必须由父母（网关）用电话帮助你联系。假如你想找你的同学小明聊天，小明家住在很远的另外一个院子里，他家里也有父母（小明的网关）。但是你不知道小明家的电话号码，不过你的<a target="_blank" href="https://baike.baidu.com/item/%E7%8F%AD%E4%B8%BB%E4%BB%BB">班主任</a>老师有一份你们班全体同学的名单和电话号码对照表，你的老师就是你的<a target="_blank" href="https://baike.baidu.com/item/DNS%E6%9C%8D%E5%8A%A1%E5%99%A8">DNS服务器</a>。于是你在家里和父母有了下面的对话：</div>
<div class="para" label-module="para">小不点：妈妈(或爸爸),我想找班主任查一下小明的电话号码行吗？家长：好，你等着。（接着你家长给你的班主任挂了一个电话，问清楚了小明的电话）问到了，他家的号码是211.99.99.99</div>
<div class="para" label-module="para">小不点：太好了！妈(或爸),我想找小明，你再帮我联系一下小明吧。</div>
<div class="para" label-module="para">家长：没问题。（接着家长向电话局发出了请求接通小明家电话的请求，最后一关当然是被转接到了小明家家长那里，然后他家长把电话给转到小明）.</div>
<div class="para" label-module="para">就这样你和小明取得了联系。</div>
<div class="para" label-module="para">如果搞清了什么是网关，<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>也就好理解了。就好像一个房间可以有多扇门一样，一台主机可以有多个网关。<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>。<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>一般填写192.168.x.1</div><div class="anchor-list">
<a name="3" class="lemma-anchor para-title"></a>
<a name="sub807_3" class="lemma-anchor "></a>
<a name="设置" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>设置</h2>
</div>
<div class="anchor-list">
<a name="3_1" class="lemma-anchor para-title"></a>
<a name="sub807_3_1" class="lemma-anchor "></a>
<a name="手动" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>手动</h3>
</div>
<div class="para" label-module="para">手动设置适用于电脑数量比较少、TCP/IP参数基本不变的情况，比如只有几台到十几台电脑。因为这种方法需要在联入网络的每台电脑上设置“<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>”，非常费劲，一旦因为迁移等原因导致必须修改默认网关的IP地址，就会给<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%AE%A1">网管</a>带来很大的麻烦，所以不推荐使用。</div>
<div class="para" label-module="para">在Windows 9x中，设置<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>的方法是在“<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E4%B8%8A%E9%82%BB%E5%B1%85">网上邻居</a>”上右击，在弹出的菜单中点击“属性”，在网络属性对话框中选择“TCP/IP协议”，点击“属性”，在“默认网关”选项卡中填写新的默认网关的IP地址就可以了。</div>
<div class="para" label-module="para">需要特别注意的是：<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>必须是电脑自己所在的<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E6%AE%B5">网段</a>中的IP地址，而不能填写其他网段中的IP地址。</div><div class="anchor-list">
<a name="3_2" class="lemma-anchor para-title"></a>
<a name="sub807_3_2" class="lemma-anchor "></a>
<a name="自动" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>自动</h3>
</div>
<div class="para" label-module="para">自动设置就是利用<a target="_blank" href="https://baike.baidu.com/item/DHCP%E6%9C%8D%E5%8A%A1%E5%99%A8">DHCP服务器</a>来自动给网络中的电脑分配IP地址、<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">子网掩码</a>和<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>。这样做的好处是一旦网络的<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>发生了变化时，只要更改了DHCP服务器中默认网关的设置，那么网络中所有的电脑均获得了新的默认网关的IP地址。这种方法适用于网络规模较大、TCP/IP参数有可能变动的网络。</div>
<div class="para" label-module="para">另外一种自动获得网关的办法是通过安装<a target="_blank" href="https://baike.baidu.com/item/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8">代理服务器</a><a target="_blank" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6">软件</a>（如MS Proxy）的客户端程序来自动获得，其原理和方法和DHCP有相似之处。由于篇幅所限，就不再详述了。</div>
<div class="para" label-module="para">如果开始看<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>知识的话，就会容易明白了，</div>
<div class="para" label-module="para">进入命令行<a target="_blank" href="https://baike.baidu.com/item/%E6%A8%A1%E5%BC%8F">模式</a>：</div>
<div class="para" label-module="para">c:\&gt;route print</div>
<div class="para" label-module="para">会有一条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>：</div>
<div class="para" label-module="para">0.0.0.0 0.0.0.0 <a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>的IP <a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A5%E5%8F%A3">接口</a>（机器的IP） 跳数</div>
<div class="para" label-module="para">比如我的机器：</div>
<div class="para" label-module="para">0.0.0.0 0.0.0.0 192.168.100.254 192.168.100.233 1</div>
<div class="para" label-module="para">意思是：所有的需要转发的数据包，都经过<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3">默认网关</a>的IP（接口）发送出去，当然返回也是从那里经过。作用及工作流程例子</div><div class="anchor-list">
<a name="4" class="lemma-anchor para-title"></a>
<a name="sub807_4" class="lemma-anchor "></a>
<a name="区别" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>区别</h2>
</div>
<div class="anchor-list">
<a name="4_1" class="lemma-anchor para-title"></a>
<a name="sub807_4_1" class="lemma-anchor "></a>
<a name="协议" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>协议</h3>
</div>
<div class="para" label-module="para">（GGP）</div>
<div class="para" label-module="para">核心网关为了正确和高效地<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>报文需要知道Internet其他<a target="_blank" href="https://baike.baidu.com/item/%E9%83%A8%E5%88%86">部分</a>发生的情况，包括路由信息和<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>特性。</div>
<div class="para" label-module="para"><div class="lemma-picture text-pic layout-right" style="width:220px; float: right; display: block; margin: 0px auto; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/507c3897e2715e2f54fb9647?fr=lemma&amp;ct=single" target="_blank" title="网关关系及图片说明" style="width:220px;height:157px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=16d4b25173f082022992963d7bfafb8a/e824b899a9014c08d5997ed70a7b02087bf4f426.jpg" alt="网关关系及图片说明" style="width:220px;height:157px;">
</a>
<span class="description">
网关关系及图片说明
</span>
</div></div>
<div class="para" label-module="para">当一个网关处理重负载而使速度特别慢，并且这个网关是访问<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>的惟一途径时，通常使用这种类型的信息，网络中的其他网关能剪裁交通流量以减轻网关的负载。</div>
<div class="para" label-module="para">GGP主要用于交换<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息，不要混淆路由信息（包括地址、拓扑和路由延迟细节）和作出路由决定的算法。<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95">路由算法</a>在网关内通 常是固定的且不被GGP改变。核心网关之间通过发送GGP信息，并等待应答来通信，之后如果收到含特定信息的应答就更新<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表。</div>
<div class="para" label-module="para">注意GGP的最新改进SPREAD已经用于Internet，但它还不如GGP普及。GGP被称为向量-距离协议。要想有效工作，网关必须含有互联网络上有关所有网关的完整信息。否则，计算到一个目的地的有效<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>将是不可能的。因为这个原因，所有的核心网关维护一张Internet上所有核心网关的列表。这是一个相当小的表，网关能容易地对其进行处理。</div><div class="anchor-list">
<a name="4_2" class="lemma-anchor para-title"></a>
<a name="sub807_4_2" class="lemma-anchor "></a>
<a name="外部" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>外部</h3>
</div>
<div class="para" label-module="para">（EGP）</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE">外部网关协议</a>用于在非核心的相邻网关之间传输信息。非核心网关包含互联网络上所有与其直接相邻的网关的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息及其所连机器信息，但是它们不包含Internet上其他网关的信息。对绝大多数EGP而言，只限制维护其服务的<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>或<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>信息。这样可以防止过多的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息在<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>或<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>之间传输。EGP强制在非核心网关之间交流<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息。</div>
<div class="para" label-module="para">由于核心网关使用GGP，非核心网关使用EGP，而二者都应用在Internet上，所以必须有某些方法使二者彼此之间能够通信。Internet使任何自治（非核心）网关给其他系统发送“可达”信息，这些信息至少要送到一个核心网关。如果有一个更大的自治网络，常常认为有一个网关来处理这些可达信息。</div>
<div class="para" label-module="para">和GGP一样，EGP使用一个查询过程来让网关清楚它的相邻网关并不断地与其相邻者交换<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>和<a target="_blank" href="https://baike.baidu.com/item/%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF">状态信息</a>。EGP是状态驱动的协议，意思是说它依赖于一个反映网关情况的状态表和一组当状态表项变化时必须执行的一组操作。</div><div class="anchor-list">
<a name="4_3" class="lemma-anchor para-title"></a>
<a name="sub807_4_3" class="lemma-anchor "></a>
<a name="内部" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>内部</h3>
</div>
<div class="para" label-module="para">（IGP）</div>
<div class="para" label-module="para">有几种内部网关协议可用，最流行的是RIP和HELLO，另一个协议称为<a target="_blank" href="https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E5%BC%8F%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E4%BC%98%E5%85%88">开放式最短路径优先</a>协议（OSPF），这些协议没有一个是占主导地位的，但是RIP可能是最常见的IGP协议。选择特定的IGP以<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84">网络体系结构</a>为基础。RIP和HELLO协议都是计算到目的地的距离，它们的消息包括机器标识和到机器的距离。</div>
<div class="para" label-module="para">一般来讲，由于它们的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表包含很多项，因此消息比较长。RIP和HELLO一直维护相邻网关之间的连接性以确保机器是活跃的。<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE">路由信息协议</a>使用<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E6%92%AD%E6%8A%80%E6%9C%AF">广播技术</a>。意思是说网关每隔一定时间要把<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表广播给其他网关。这也是RIP的一个问题，因为这会增加<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F">网络流量</a>，降低网络性能。HELLO协议与RIP的不同之处在于HELLO使用时间而不是距离作为<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>因素。这要求网关对每条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>有合理的准确时间信息。由于这个原因，所以HELLO协议依赖于<a target="_blank" href="https://baike.baidu.com/item/%E6%97%B6%E9%92%9F%E5%90%8C%E6%AD%A5">时钟同步</a>消息。</div>
<div class="para" label-module="para">开放式最短路径优先协议是由<a target="_blank" href="https://baike.baidu.com/item/Internet%E5%B7%A5%E7%A8%8B%E4%BB%BB%E5%8A%A1%E7%BB%84">Internet工程任务组</a>开发的协议，希望它能成为居于主导地位的IGP。用“<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84">最短路径</a>”来描述协议的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>过程不准确。更好一些的名字是“最优路径”， 这其中要考虑许多因素来决定到达目的地的最佳<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>。</div><div class="anchor-list">
<a name="5" class="lemma-anchor para-title"></a>
<a name="sub807_5" class="lemma-anchor "></a>
<a name="类型" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>类型</h2>
</div>
<div class="anchor-list">
<a name="5_1" class="lemma-anchor para-title"></a>
<a name="sub807_5_1" class="lemma-anchor "></a>
<a name="传输" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>传输</h3>
</div>
<div class="para" label-module="para">传输网关用于在2个网络间建立传输连接。利用传输网关，不同网络上的主机间可以建立起跨越多个网络的<div class="lemma-picture text-pic " style="width:220px; float: right;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/e865a6990ca12f4a6f068c40?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:137px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=08cebe8651da81cb4ae684cf6267d0a4/f703738da977391216bbd313f8198618367ae227.jpg" alt="网关" style="width:220px;height:137px;">
</a>
<span class="description">
网关
</span>
</div>、级联的、<a target="_blank" href="https://baike.baidu.com/item/%E7%82%B9%E5%AF%B9%E7%82%B9">点对点</a>的传输连接。例如通常使用的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>就是传输网关，“网关”的作用体现在连接两个不同的<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E6%AE%B5">网段</a>，或者是两个不同的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">路由协议</a>之间的连接，如RIP,EIGRP,OSPF,BGP等。</div><div class="anchor-list">
<a name="5_2" class="lemma-anchor para-title"></a>
<a name="sub807_5_2" class="lemma-anchor "></a>
<a name="应用" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>应用</h3>
</div>
<div class="para" label-module="para" style="clear: both;"><a target="_blank" href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%BD%91%E5%85%B3">应用网关</a>在<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E5%B1%82">应用层</a>上进行<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E8%BD%AC%E6%8D%A2">协议转换</a>。例如，一个主机执行的是ISO<a target="_blank" href="https://baike.baidu.com/item/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6">电子邮件</a>标准，另一个主机执行的是Internet 电子邮件标准，如果这两个主机需要交换电子邮件，那么必须经过一个电子邮件网关进行<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E8%BD%AC%E6%8D%A2">协议转换</a>，这个电子邮件网关是一个应用网关。NCP是工作在OSI第七层的协议，用以控制客户站和服务器间的交互作用，主要完成不同方式下文件的打开、关闭、读取功能。</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E4%BB%A4%E7%BD%91%E5%85%B3">信令网关</a>，中继网关，还有<a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A5%E5%85%A5%E7%BD%91%E5%85%B3">接入网关</a>:</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E4%BB%A4%E7%BD%91%E5%85%B3">信令网关</a>SG，主要完成7号信令网与IP网之间信令消息的中继，在3G初期，对于完成接入侧到<a target="_blank" href="https://baike.baidu.com/item/%E6%A0%B8%E5%BF%83%E7%BD%91">核心网</a>交换之间的消息的转接（3G之间的RANAP消息，3G与2G之间的<a target="_blank" href="https://baike.baidu.com/item/BSSAP">BSSAP</a>消息），另外还能完成2G的MSC/GMSC与<a target="_blank" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BA%A4%E6%8D%A2%E6%9C%BA">软交换机</a>之间ISUP消息的转接。</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E4%B8%AD%E7%BB%A7%E7%BD%91%E5%85%B3">中继网关</a>又叫IP网关，同时满足电信运营商和企业需求的VoIP设备。中继网关（IP网关）由基于中继板和媒体网关板建构，单板最多可以提供128路媒体转换，两个<a target="_blank" href="https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E7%BD%91">以太网</a>口，机框采用业界领先的CPCI标准，扩容方便具有高稳定性、高可靠性、高密度、容量大等特点.</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A5%E5%85%A5%E7%BD%91%E5%85%B3">接入网关</a>是基于IP的语音/传真业务的媒体接入网关，提供高效、高质量的话音服务，为运营商、企业、小区、住宅用户等提供VoIP解决方案。</div>
<div class="para" label-module="para">除此之外，网关还可以分为：<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E7%BD%91%E5%85%B3">协议网关</a>、应用网关和<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E7%BD%91%E5%85%B3">安全网关</a></div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E7%BD%91%E5%85%B3">协议网关</a></div>
<div class="para" label-module="para">协议网关通常在使用不同协议的网络区域间做<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E8%BD%AC%E6%8D%A2">协议转换</a>。这一转换过程可以发生在<a target="_blank" href="https://baike.baidu.com/item/OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B">OSI参考模型</a>的第2层、第3层或2、3层之间。但是有两种<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E7%BD%91%E5%85%B3">协议网关</a>不提供转换的功能：<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E7%BD%91%E5%85%B3">安全网关</a>和管道。由于两个互连的网络区域的逻辑差异，<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E7%BD%91%E5%85%B3">安全网关</a>是两个技术上相似的网络区域间的必要中介。如私有<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>和公有的<a target="_blank" href="https://baike.baidu.com/item/%E5%9B%A0%E7%89%B9%E7%BD%91">因特网</a>。</div>
<div class="para" label-module="para"><b>应用网关</b></div>
<div class="para" label-module="para">应用网关是在使用不同<a target="_blank" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F">数据格式</a>间翻译数据的系统。典型的应用网关接收一种格式的输入，将之翻译， 然后以新的格式发送。输入和输出接口可以是分立的也可以使用同一网络连接。</div>
<div class="para" label-module="para">应用网关也可以用于将<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>客户机与<a target="_blank" href="https://baike.baidu.com/item/%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE%E6%BA%90">外部数据源</a>相连，这种网关为<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%AC%E5%9C%B0%E4%B8%BB%E6%9C%BA">本地主机</a>提供了与远程交互式应用</div>
<div class="para" label-module="para"><div class="lemma-picture text-pic layout-right" style="width:220px; float: right; display: block; margin: 0px auto; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/a54e55fb804cc826024f5640?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:131px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=6279df7cb13533faf1b6942c98d2fdca/b7fd5266d0160924d0b9f469d40735fae6cd3427.jpg" alt="网关" style="width:220px;height:131px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">的连接。将应用的逻辑和执行代码置于<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>中<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%A2%E6%88%B7%E7%AB%AF">客户端</a>避免了低带宽、高延迟的<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>的缺点，这就使得客户端的响应时间更短。应用网关将请求发送给相应的<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA">计算机</a>，获取数据，如果需要就把数据格式转换成客户机所要求的格式。</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E7%BD%91%E5%85%B3">安全网关</a></div>
<div class="para" label-module="para">安全网关是各种技术有趣的融合，具有重要且独特的保护作用，其范围从协议级过滤到十分复杂的应用级过滤。</div>
<div class="para" label-module="para">可以说，网关是一种充当转换重任的<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F">计算机系统</a>或设备。在使用不同的<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE">通信协议</a>、数据格式或语言，甚至体系结构完全不同的两种系统之间，网关是一个翻译器。与<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E6%A1%A5">网桥</a>只是简单地传达信息不同，网关对收到的信息要重新打包，以适应目的系统的需求。同时，网关也可以提供过滤和安全功能。大多数网关运行在OSI 7层协议的顶层——<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E5%B1%82">应用层</a>。</div><div class="anchor-list">
<a name="6" class="lemma-anchor para-title"></a>
<a name="sub807_6" class="lemma-anchor "></a>
<a name="跨网关" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>跨网关</h2>
</div>
<div class="para" label-module="para">现行的IPV4的IP地址是32位的，根据头几位再划分为A、B、C三类地址；但由于INTERNET的迅猛发展，IP资源日渐枯竭，可供分配的IP地越来越少，跟一日千里的INTERNET发展严重冲突，在</div>
<div class="para" label-module="para"><div class="lemma-picture text-pic layout-right" style="width:220px; float: right; display: inline; margin: 0px auto 0px 0px; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/e865a6990ca32f4a6f068c42?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:216px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=08ccbe8651da81cb4ae684cf6267d0a4/f703738da977391216b9d313f8198618367ae221.jpg" alt="网关" style="width:220px;height:216px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">IPV6还远未能全面升级的情况下，惟有以<a target="_blank" href="https://baike.baidu.com/item/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8">代理服务器</a>的方式，实行<a target="_blank" href="https://baike.baidu.com/item/%E5%86%85%E9%83%A8%E7%BD%91">内部网</a>地址跟公网地址进行转化而实现接入INTERNET。</div>
<div class="para" label-module="para">中介作用的<a target="_blank" href="https://baike.baidu.com/item/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8">代理服务器</a>就是一个网关，也就是这个网关带给现阶段的<a target="_blank" href="https://baike.baidu.com/item/%E5%A4%9A%E5%AA%92%E4%BD%93">多媒体</a>通讯系统无尽的烦恼。在IP资源可怜的情况下，惟有以网关甚至多层网关的方式接入<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%BD%E5%B8%A6">宽带</a>网， 因为多媒体通讯系统的协议如<a target="_blank" href="https://baike.baidu.com/item/H.323">H.323</a>等要进行业务的双方必须有一方有公网的IP地址，宽带有几个用户能符合这个要求？microsoft的NETMEETING等等多媒体通讯系统就是处于这种尴尬的位置；跨网关成为头疼的难题。</div>
<div class="para" label-module="para">跨网关：<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE">网络数据</a>通过层层网关，受制于网关节点速度，<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E9%80%9F%E5%BA%A6">网络速度</a>大大降低。跨网关技术基于底层<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE">网络协议</a>，突破网关<a target="_blank" href="https://baike.baidu.com/item/%E7%93%B6%E9%A2%88">瓶颈</a>，实现客户点对点交流。</div><div class="anchor-list">
<a name="6_1" class="lemma-anchor para-title"></a>
<a name="sub807_6_1" class="lemma-anchor "></a>
<a name="产品选用" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>产品选用</h3>
</div>
<div class="para" label-module="para">网关的主要功能：网关（Gateway）又称网间连接器、协议转换器。网关在<a target="_blank" href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%B1%82">传输层</a>上以实现网络互连，是最复杂的网络互连设备。网关既可以用于广域网互连，也可以用于局域网互连。</div>
<div class="para" label-module="para">网关主要规格及参数：</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E7%BD%91%E5%85%B3">安全网关</a>主要接口类型： RJ45主要接口数目： 3口。</div>
<div class="para" label-module="para">主要参数：<a target="_blank" href="https://baike.baidu.com/item/%E6%94%AF%E6%8C%81%E5%8D%8F%E8%AE%AE">支持协议</a>： TCP/IP协议，<a target="_blank" href="https://baike.baidu.com/item/ICMP%E5%8D%8F%E8%AE%AE">ICMP协议</a>,RIPv2协议，<a target="_blank" href="https://baike.baidu.com/item/%E9%9D%99%E6%80%81">静态</a>路由协议，<a target="_blank" href="https://baike.baidu.com/item/%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">动态路由协议</a>,PAP协议，CHAP协议，NAT协议，PPPoE协议，250K个并发<a target="_blank" href="https://baike.baidu.com/item/%E4%BC%9A%E8%AF%9D%E6%95%B0">会话数</a>，新建会话数7K/秒，<a target="_blank" href="https://baike.baidu.com/item/%E9%98%B2%E7%81%AB%E5%A2%99">防火墙</a>性能120Mbps,40G<a target="_blank" href="https://baike.baidu.com/item/%E7%A1%AC%E7%9B%98">硬盘</a>,100条VPN<a target="_blank" href="https://baike.baidu.com/item/%E9%9A%A7%E9%81%93">隧道</a>数，3DES加密性能30Mbps，病毒邮件扫描25000封/小时，<a target="_blank" href="https://baike.baidu.com/item/%E5%9E%83%E5%9C%BE%E9%82%AE%E4%BB%B6">垃圾邮件</a>15000封/小时，HTTP扫描1MB/S; <a target="_blank" href="https://baike.baidu.com/item/%E5%86%85%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99">内置防火墙</a>。</div>
<div class="para" label-module="para">网关选用要点及订货主要技术条件</div>
<div class="para" label-module="para">网关是将两个使用不同协议的网络段连接在一起的设备。它的作用就是对两个网络段中的使用<a target="_blank" href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE">传输协议</a>的数据进行互相的翻译转换。比如：一个企业内部<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>就常常需要通过网关发送电子邮件到Internet的相关地址。</div>
<div class="para" label-module="para">1) 网关具有高可扩展性</div>
<div class="para" label-module="para">2) 网关能够多<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E6%94%AF%E6%8C%81">协议支持</a>，，能够对SMTP、HTTP、FTP和POP3通信进行扫描，对网络和用户应有的保护功能。</div>
<div class="para" label-module="para">3) 网关能透明的联机扫描，保存诸如源IP和MAC地址等信息。透明扫描选项在易于安装的同时，还可以让您对内部Web服务器进行保护。</div>
<div class="para" label-module="para">4) 网关能够进行内容管理，防止用户接收或发送带有某种类型附件的邮件、容量过大的邮件或带有过多、过大附件的邮件。</div>
<div class="para" label-module="para">5) 检测垃圾邮件与反中继。</div>
<div class="para" label-module="para">6) 网关订货主要技术条件能满足不同<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE">通信协议</a>的<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%BF%9E">网络互连</a>，使文件可以在这些网络之间传输，阻止黑客入侵、检查病毒、<a target="_blank" href="https://baike.baidu.com/item/%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81">身份认证</a>与权限检查等很多安全功能，需要VPN完成或在同VPN与相关产品协同完成。</div>
<div class="para" label-module="para">7) 主<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%BA%E6%88%BF">机房</a>的网关选择规格尺寸要能安装在主机柜中。</div><div class="anchor-list">
<a name="6_2" class="lemma-anchor para-title"></a>
<a name="sub807_6_2" class="lemma-anchor "></a>
<a name="安装要点" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>安装要点</h3>
</div>
<div class="para" label-module="para">具体施工做法参见国家建筑标准设计图集《智能家居控制系统施工图集 03X602》及国际标准规范 《EIA/TIA569 商务楼通信通道和空间标准》。</div><div class="anchor-list">
<a name="7" class="lemma-anchor para-title"></a>
<a name="sub807_7" class="lemma-anchor "></a>
<a name="RIP协议" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>RIP协议</h2>
</div>
<div class="para" label-module="para">RIP协议的全称，是路由信息协议，它是一种<a target="_blank" href="https://baike.baidu.com/item/%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE">内部网关协议</a>（IGP），用于一个自治系统（AS）内的路由信息的传递。RIP协议，是基于距离矢量算法的，它使用“跳数”，即METRIC来衡量到达目标地址的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>距离。RIP协议中<a target="_blank" href="https://baike.baidu.com/item/%E8%A7%84%E5%AE%9A">规定</a>，一条有效的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息的度量（METRIC）不能超过15，这就使得该协议不能应用于很大型的网络，应该说，正是由于<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%BE%E8%AE%A1">设计</a>者考虑到该协议只适合于小型网络，所以才进行了这一限制。对于METRIC为16的目标网络来说，即认为其不可到达。</div><div class="anchor-list">
<a name="7_1" class="lemma-anchor para-title"></a>
<a name="sub807_7_1" class="lemma-anchor "></a>
<a name="局限性" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>局限性</h3>
</div>
<div class="para" label-module="para">该路由协议应用到实际中时，很容易出现“计数到无穷大”的现象，这使得<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E6%94%B6%E6%95%9B">路由收敛</a>很慢，在网络拓扑结构变化以后，需要很长时间，路由信息才能稳定下来。该协议以跳数，即报文经过的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>个数为<a target="_blank" href="https://baike.baidu.com/item/%E8%A1%A1%E9%87%8F">衡量</a>标准，并以此来选择路由，这一措施欠合理性，因为没有考虑<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%BB%B6%E6%97%B6">网络延时</a>，可靠性，线路<a target="_blank" href="https://baike.baidu.com/item/%E8%B4%9F%E8%8D%B7">负荷</a>等因素对传输质量与<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9F%E5%BA%A6">速度</a>的<a target="_blank" href="https://baike.baidu.com/item/%E5%BD%B1%E5%93%8D">影响</a>。</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/b258f5c432e620eb8326ac43?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:136px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=b5ed465d95cad1c8d4bbfb254f3f67c4/9f510fb30f2442a75c90abd7d143ad4bd1130221.jpg" alt="网关" style="width:220px;height:136px;">
</a>
<span class="description">
网关
</span>
</div></div><div class="anchor-list">
<a name="7_2" class="lemma-anchor para-title"></a>
<a name="sub807_7_2" class="lemma-anchor "></a>
<a name="实现" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>实现</h3>
</div>
<div class="para" label-module="para">RIP根据V-D<a target="_blank" href="https://baike.baidu.com/item/%E7%AE%97%E6%B3%95">算法</a>的特点，将协议的参加者分为主动机和被动机两种。主动机主动向外广播<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>刷新报文，被动机被动地接收路由刷新报文。一般情况下，<a target="_blank" href="https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA">主机</a>作为被动机，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>则既是主动机又是被动机，即在向外广播路由刷新报文的同时，接受来自其它主动机的V-D报文，并进行路由刷新。</div>
<div class="para" label-module="para">RIP规定，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>每30秒向外广播一个V-D报文，报文<a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E6%81%AF">信息</a>来自本地路由表。</div>
<div class="para" label-module="para">RIP的V-D报文中，其距离以驿站计：与信宿网络直接相连的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>规定为一个<a target="_blank" href="https://baike.baidu.com/item/%E9%A9%BF%E7%AB%99">驿站</a>，相隔一个路由器则为两个驿站……，以此类推，一条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的距离为该路由（从信源机到信宿机）上的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>数。</div>
<div class="para" label-module="para">为防止寻径环长期存在，RIP规定，长度为16的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>为无限长路由，即不存在的路由。所以一条有效的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>长度不得超过15。正是这一规定限制了RIP的使用范围，使RIP局限于中小型的网络网点中。</div>
<div class="para" label-module="para">为了<a target="_blank" href="https://baike.baidu.com/item/%E4%BF%9D%E8%AF%81">保证</a><a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的及时有效性，RIP采用<a target="_blank" href="https://baike.baidu.com/item/%E8%A7%A6%E5%8F%91">触发</a>刷新技术和水平分割法。当本地<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表发生修改时，触发广播路由，刷新报文，以迅速达到最新路由的广播和全局路由的有效。水平分割法，是指当<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>从某个网络接口发送RIP路由刷新报文时，其中不包含从该接口获取的路由信息。这是由于从某<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">网络接口</a>获取的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息对于该接口来说是无用信息，同时也解决了两<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>间的慢收敛<a target="_blank" href="https://baike.baidu.com/item/%E9%97%AE%E9%A2%98">问题</a>。</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/948bcfc8e522aa557e3e6f43?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:131px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=894b154b4b36acaf5de091fe4cd88d03/dc54564e9258d109f17affc0d158ccbf6c814d22.jpg" alt="网关" style="width:220px;height:131px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">对于<a target="_blank" href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91">局域网</a>的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>，RIP规定了路由的超时处理。主要是考虑到这样一个情况，如果完全根据V-D算法，一条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>被刷新，是因为出现一条路由<a target="_blank" href="https://baike.baidu.com/item/%E5%BC%80%E9%94%80">开销</a>更小的路由，否则，路由会在路由表中一直保存下去，即使该路由<a target="_blank" href="https://baike.baidu.com/item/%E5%B4%A9%E6%BA%83">崩溃</a>。这势必造成一定的错误<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息。为此，RIP规定，所有机器对其寻径表中的每一条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>都设置一个时钟，每增加一条新路由，相应设置一个新<a target="_blank" href="https://baike.baidu.com/item/%E6%97%B6%E9%92%9F">时钟</a>。在收到的V-D报文中假如有关于此<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的表目，则将时钟清零，重新计时。假如在120秒内一直未收到该路由的刷新信息，则认为该路由崩溃，将其距离设为16，<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E6%92%AD">广播</a>该<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息。如果再过60后仍未收到该<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的刷新信息，则将它从路由表中删除。如果某<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>在距离被设为16后，在被删除前路由被刷新，亦将时钟清零，重新计时，同时广播被刷新的路由信息。至于<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>被删除后是否有新的路由来代替被删除路由，取决于去往原路由所指信宿有无其它路由。假如有，相应<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>会广播之。机器一旦收到其它<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的信息，<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E7%84%B6">自然</a>会利用V-D算法建立一条新路由。否则，去往原信宿的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>不再存在。</div>
<div class="para" label-module="para">RIP启动和运行的整个过程如下所描述：某<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>刚启动<a target="_blank" href="https://baike.baidu.com/item/RIP">RIP</a>时，以广播的形式向相邻路由器发送请求报文，相邻路由器的RIP收到请求报文后，<a target="_blank" href="https://baike.baidu.com/item/%E5%93%8D%E5%BA%94">响应</a>请求，回发包含本地路由表信息的响应报文。RIP收到响应报文后，修改本地<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表的信息，同时以触发修改的形式向相邻<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>广播本地路由修改信息。相邻<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>收到触发修改报文后，又向其各自的相邻路由器发送触发修改报文。在一连串的触发修改广播后，各<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的路由都得到修改并保持最新信息。同时，RIP每30<a target="_blank" href="https://baike.baidu.com/item/%E7%A7%92">秒</a>向相邻<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>广播本地<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E8%A1%A8">路由表</a>，各相邻路由器的RIP在收到路由报文后，对本地路由进行的维护，在众多路由中选择一条最佳路由，并向各自的相邻网广播路由修改信息，使路由达到全局的有效。同时RIP采取一种超时机制对过时的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>进行超时处理，以保证路由的<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%9E%E6%97%B6%E6%80%A7">实时性</a>和有效性。RIP作为内部<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>协议，正是通过这种报文交换的方式，提供路由器了解本自治系统内部个网络路由信息的机制。</div>
<div class="para" label-module="para">RIP-2支持版本1和版本2两种版本的报文格式。在版本2中，RIP还提供了对<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>的支持和提供认证报文形式。版本2的报文提供<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">子网掩码</a>域，来提供对子网的支持；另外，当报文中的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>项地址域值为0xFFFF时，默认该路由项的剩余部分为认证。RIP2对拨号网的支持则是参考需求RIP和触发RIP的形式经修改而加入的新功能。这时，我们只是要求在拨号网拨通之后对<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>进行30秒一次的广播，而在没拨通时并不作如是<a target="_blank" href="https://baike.baidu.com/item/%E8%A6%81%E6%B1%82">要求</a>，这是根据具体情况变通的<a target="_blank" href="https://baike.baidu.com/item/%E7%BB%93%E6%9E%9C">结果</a>。</div><div class="anchor-list">
<a name="7_3" class="lemma-anchor para-title"></a>
<a name="sub807_7_3" class="lemma-anchor "></a>
<a name="RIP的限制" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>RIP的限制</h3>
</div>
<div class="para" label-module="para" style="CLEAR: both">虽然RIP有很长的<a target="_blank" href="https://baike.baidu.com/item/%E5%8E%86%E5%8F%B2">历史</a>，但它还是有自身的<a target="_blank" href="https://baike.baidu.com/item/%E9%99%90%E5%88%B6">限制</a>。它非常适合于为早期的<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94">网络互联</a>计算<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>；然而，技术进步已极大地改变了互联网络。建造和使用的方式。因此，RIP会很快被今天的互联网络所<a target="_blank" href="https://baike.baidu.com/item/%E6%B7%98%E6%B1%B0">淘汰</a>。RIP的一些最大限制是：</div>
<div class="para" label-module="para">·不能支持长于15跳的路径。</div>
<div class="para" label-module="para">·依赖于固定的<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%A6%E9%87%8F">度量</a>来计算<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>。</div>
<div class="para" label-module="para">·对<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>更新反应强烈。</div>
<div class="para" label-module="para">·相对慢的收敛。</div>
<div class="para" label-module="para">·缺乏动态负均衡支持。</div><div class="anchor-list">
<a name="7_4" class="lemma-anchor para-title"></a>
<a name="sub807_7_4" class="lemma-anchor "></a>
<a name="配置" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>配置</h3>
</div>
<div class="para" label-module="para">RIP(RoutinginformationProtocol）是应用较早、使用较普遍的内部网关协议（InteriorGatewayProtocol，简称IGP），适用于小型同类网络，是典型的距离<a target="_blank" href="https://baike.baidu.com/item/%E5%90%91%E9%87%8F">向量</a>(distance-vector）协议。文档见RFC1058、RFC1723。</div>
<div class="para" label-module="para">RIP通过广播UDP报文来交换<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息，每30秒发送一次路由信息更新。RIP提供跳跃计数（hopcount）作为尺度来衡量<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>距离，跳跃计数是一个包到达目标所必须经过的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的数目。如果到相同目标有二个不等速或不同带宽的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，但跳跃计数相同，则RIP认为两个路由是等<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%9D%E7%A6%BB">距离</a>的。</div>
<div class="para" label-module="para">RIP最多支持的跳数为15，即在源和目的网间所要经过的最多<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的数目为15，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%B3%E6%95%B0">跳数</a>16表示不可达。</div>
<div class="para" label-module="para">1、有关命令</div>
<div class="para" label-module="para">任务命令</div>
<div class="para" label-module="para">指定使用RIP协议routerrip</div>
<div class="para" label-module="para">指定RIP版本version{1|2}1</div>
<div class="para" label-module="para">指定与该<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>相连的网络networknetwork</div>
<div class="para" label-module="para">注：</div>
<div class="para" label-module="para">1、Cisco的RIP版本2支持验证、密钥<a target="_blank" href="https://baike.baidu.com/item/%E7%AE%A1%E7%90%86">管理</a>、<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>汇总、<a target="_blank" href="https://baike.baidu.com/item/%E6%97%A0%E7%B1%BB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1">无类域间路由</a>(CIDR）和<a target="_blank" href="https://baike.baidu.com/item/%E5%8F%98%E9%95%BF%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">变长子网掩码</a>(VLSMs)</div>
<div class="para" label-module="para">2、举例</div>
<div class="para" label-module="para">Router1：routerrip version2 network 192.200.10.0 network192.20.10.0！</div>
<div class="para" label-module="para">相关调试命令：showipprotocol</div>
<div class="para" label-module="para">showiproute</div>
<div class="para" label-module="para">在全局<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%BE%E7%BD%AE">设置</a><a target="_blank" href="https://baike.baidu.com/item/%E6%A8%A1%E5%BC%8F">模式</a>下：</div>
<div class="para" label-module="para">1．启动RIP<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a> routerrip</div>
<div class="para" label-module="para">2．设置参与RIP路由的<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>network子网地址</div>
<div class="para" label-module="para">3．允许在非<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E6%92%AD%E5%9E%8B%E7%BD%91%E7%BB%9C">广播型网络</a>中进行RIP路由广播neighbor相邻<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>相邻端口的IP地址</div>
<div class="para" label-module="para">4．设置RIP的版本</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/RIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">RIP路由协议</a>有2个版本，在与其它<a target="_blank" href="https://baike.baidu.com/item/%E5%8E%82%E5%95%86">厂商</a>路由器相连时，注意版本要一致，缺省状态下，<a target="_blank" href="https://baike.baidu.com/item/Cisco">Cisco</a>路由器接收RIP版本1和2的路由信息，但只发送版本1的路由信息，设置RIP的版本vesion1或2。</div>
<div class="para" label-module="para">另外，还可以控制特定端口发送或接收特定版本的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息。</div>
<div class="para" label-module="para">1．只在特定端口发版本1或2的信息，在端口设置<a target="_blank" href="https://baike.baidu.com/item/%E6%A8%A1%E5%BC%8F">模式</a>下ripsendversion1或2</div>
<div class="para" label-module="para">2．同时发送版本1和2的信息ipripsendreceive1or2</div>
<div class="para" label-module="para">3．在特定端口接受版本1或2的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息ipripreceive1or2</div>
<div class="para" label-module="para">4．同时接受版本1和2的路由信息ipripreceive1or2</div>
<div class="para" label-module="para">选择路由协议几点<a target="_blank" href="https://baike.baidu.com/item/%E5%BB%BA%E8%AE%AE">建议</a>：</div>
<div class="para" label-module="para">1．在大型<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C">网络</a>中，建议使用ospf、eigrp。</div>
<div class="para" label-module="para">2．如果网络中含有变长了网<a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A9%E7%A0%81">掩码</a>（VISM）不能使用igrp,rip版本1，可以使用rip版本2，ospf，eigrp或静态<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>。</div>
<div class="para" label-module="para">3．如果使用<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>安全设置，可以使用RIP版本1或OSPF。</div>
<div class="para" label-module="para">4．选用ospf,eigrp在系统稳定后所占带宽比RIP，<a target="_blank" href="https://baike.baidu.com/item/IGRP">IGRP</a>少得多，IGRP比RIP所占带宽也少。</div>
<div class="para" label-module="para">5．综合使用<a target="_blank" href="https://baike.baidu.com/item/%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1">动态路由</a>，静态路由，<a target="_blank" href="https://baike.baidu.com/item/%E7%BC%BA%E7%9C%81%E8%B7%AF%E7%94%B1">缺省路由</a>，以保证路由的<a target="_blank" href="https://baike.baidu.com/item/%E5%86%97%E4%BD%99">冗余</a>。</div>
<div class="para" label-module="para">6．在拨号线路上尽量使用<a target="_blank" href="https://baike.baidu.com/item/%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1">静态路由</a>，以节省费用。</div>
<div class="para" label-module="para">7．在小型网络上数据量不大的情况下，且不需要高可性，<a target="_blank" href="https://baike.baidu.com/item/%E5%B9%BF%E5%9F%9F%E7%BD%91">广域网</a>线路为X.25SVC时，建议用静态<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>。</div><div class="anchor-list">
<a name="7_5" class="lemma-anchor para-title"></a>
<a name="sub807_7_5" class="lemma-anchor "></a>
<a name="RIP配置实例：" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>RIP配置实例：</h3>
</div>
<div class="para" label-module="para">1、在下面的网络里，有三台<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，所有的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>都运行RIP协议，仅要实现三台路由器互通</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/d57e9994fd641e5cd31b704d?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:147px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=c9491584a7efce1bee2bcfc89f50f3e8/d0c8a786c9177f3e3eafaa7f70cf3bc79f3d562c.jpg" alt="网关" style="width:220px;height:147px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">配置</div>
<div><div id="highlighter_847366" class="syntaxhighlighter  as3"><div class="toolbar"><span><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Joe(config)#routerrip&nbsp;&nbsp;&nbsp;&nbsp;</code></div><div class="line number2 index1 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Joe(config-router-rip)#network192.</code><code class="as3 value">168.0</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number3 index2 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Joe(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code>&nbsp;<code class="as3 plain">Hamer(config)#routerrip</code></div><div class="line number4 index3 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Hamer(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number5 index4 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Hamer(config-router-rip)#network133.</code><code class="as3 value">81.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number6 index5 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Tom(config)#routerrip</code></div><div class="line number7 index6 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Tom(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number8 index7 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Tom(config-router-rip)#network133.</code><code class="as3 value">81.2</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div></div></td></tr></tbody></table></div></div><div class="para" label-module="para">2、在下面的网络里，有三台路由器，所有的路由器都运行RIP<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE">协议</a>，要实现：</div>
<div class="para" label-module="para">（1）Ros的E0<a target="_blank" href="https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3">端口</a>接收Hata和Bito发来的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>更新报文。</div>
<div class="para" label-module="para">（2）Ros在E0发送的更新<a target="_blank" href="https://baike.baidu.com/item/%E6%8A%A5%E6%96%87">报文</a>仅发送给Bito。</div>
<div class="para" label-module="para"><div class="lemma-picture text-pic layout-center" style="width:250px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/a75fb6d3c6b82276960a164e?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:250px;height:119px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D250/sign=9ae3ce765982b2b7a39f3ec101accb0a/5d6034a85edf8db1f0b42a160923dd54564e742d.jpg" alt="网关" style="width:250px;height:119px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">配置：</div>
<div class="para" label-module="para">Ros的配置如下：</div>
<div><div id="highlighter_547625" class="syntaxhighlighter  as3"><div class="toolbar"><span><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Ros(config)#routerrip&nbsp;&nbsp;&nbsp;&nbsp;</code></div><div class="line number2 index1 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Ros(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number3 index2 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Ros(config-router-rip)#network10.</code><code class="as3 value">8.11</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number4 index3 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Ros(config-router-rip)#passive-interfaceeth0/</code><code class="as3 value">0</code></div><div class="line number5 index4 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Ros(config-router-rip)#neighbor192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">35</code></div></div></td></tr></tbody></table></div></div><div class="para" label-module="para">Bito的配置如下：</div>
<div><div id="highlighter_18206" class="syntaxhighlighter  as3"><div class="toolbar"><span><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Bito(config)#routerrip&nbsp;&nbsp;&nbsp;&nbsp;</code></div><div class="line number2 index1 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Bito(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div><div class="line number3 index2 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Bito(config-router-rip)#network137.</code><code class="as3 value">1.1</code><code class="as3 plain">.</code><code class="as3 value">3</code><code class="as3 plain">/</code><code class="as3 value">24</code></div></div></td></tr></tbody></table></div></div><div class="para" label-module="para">Hata的配置如下：</div>
<div><div id="highlighter_953503" class="syntaxhighlighter  as3"><div class="toolbar"><span><a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Hata(config)#routerrip</code></div><div class="line number2 index1 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">Hata(config-router-rip)#network192.</code><code class="as3 value">168.1</code><code class="as3 plain">.</code><code class="as3 value">0</code><code class="as3 plain">/</code><code class="as3 value">24</code></div></div></td></tr></tbody></table></div></div><div class="para" label-module="para">3、有三台<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，Melu和Haha正常运行，现要添加一台名称为<a target="_blank" href="https://baike.baidu.com/item/Toba">Toba</a>的HOS路由器使Toba和Haha互相联通，并且不能破坏Melu和Haha的运行<a target="_blank" href="https://baike.baidu.com/item/%E7%8A%B6%E6%80%81">状态</a>。如下图所示：</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/f29faa8f97fcf7acf11f364f?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:141px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=01e4324dd9f9d72a1364171fe42b282a/00e93901213fb80e604437a536d12f2eb938942e.jpg" alt="网关" style="width:220px;height:141px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">已知Melu和Haha运行的协议为：</div>
<div class="para" label-module="para">（1）Haha上运行的是RIPv1，无认证配置。</div>
<div class="para" label-module="para">（2）Melu上运行的是RIPv2，无认证配置。</div><div class="anchor-list">
<a name="7_6" class="lemma-anchor para-title"></a>
<a name="sub807_7_6" class="lemma-anchor "></a>
<a name="分析" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>分析</h3>
</div>
<div class="para" label-module="para">HOS<a target="_blank" href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E5%80%BC">默认值</a>是，RIP发送版本1，接收版本1和版本2的update报文。这样我们只要在Toba上运行起RIP，并且指定192.168.0.1/24为RIP活动网络范围，Toba就可以和Haha建立<a target="_blank" href="https://baike.baidu.com/item/%E8%81%94%E9%80%9A">联通</a>了。由于Melu运行的版本为RIPv2，只要让Toba发送RIPv2报文就可以了。</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/c87c6ecf736efc7ff9dc6148?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:153px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=3470ee5201e9390152028a3c4bed54f9/d058ccbf6c81800a5171df7cb13533fa828b472f.jpg" alt="网关" style="width:220px;height:153px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">因而，Toba可以配置为：</div>
<div class="para" label-module="para">Toba(config)#routerrip</div>
<div class="para" label-module="para">Toba(config-router-rip)#network192.168.0.0/24</div>
<div class="para" label-module="para">Toba(config-router-rip)#network10.8.11.0/24</div>
<div class="para" label-module="para" style="CLEAR: both">Toba(config-router-rip)#exit</div>
<div class="para" label-module="para">Toba(config)#interfaceeth0/0</div>
<div class="para" label-module="para">Toba(config-if-eth0/0)#ipripsendversion2</div>
<div class="para" label-module="para">4、如下图所示：有两台HOS<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，要求实现<a target="_blank" href="https://baike.baidu.com/item/Wed">Wed</a>和Hax联通并且要有MD5认证。</div>
<div class="para" label-module="para">分析：</div>
<div class="para" label-module="para">有认证的情况下实现两台<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的互联，这两台路由器必须<a target="_blank" href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE">配置</a>相同的<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%A4%E8%AF%81">认证</a>方式和<a target="_blank" href="https://baike.baidu.com/item/%E5%AF%86%E9%92%A5">密钥</a>才能进行双方的路由的交换，值得注意的是双方必须发送<a target="_blank" href="https://baike.baidu.com/item/%E7%89%88%E6%9C%AC">版本</a>2</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/f7426d8d26dd5a50b21bba4a?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:112px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=b46dfc7ff8dcd100c99cff23428a47be/83025aafa40f4bfb7447c826034f78f0f7361828.jpg" alt="网关" style="width:220px;height:112px;">
</a>
<span class="description">
网关
</span>
</div></div>
<div class="para" label-module="para">Hax(config)#keychainwan</div>
<div class="para" label-module="para">Hax(config-keychain)#key1</div>
<div class="para" label-module="para">Hax(config-keychain-key)#key-stringwan</div>
<div class="para" label-module="para">Hax(config-keychain-key)#exit</div>
<div class="para" label-module="para">Hax(config-keychain)#exit</div>
<div class="para" label-module="para">Hax(config)#interfaceeth0/0</div>
<div class="para" label-module="para">Hax(config-if-eth0/0)#ipripauthenticationkey-chainwan</div>
<div class="para" label-module="para">Hax(config-if-eth0/0)#ipripauthenticationmodemd5</div>
<div class="para" label-module="para" style="CLEAR: both">Hax(config-if-eth0/0)#ipripsendversion2</div>
<div class="para" label-module="para">Hax(config-if-eth0/0)#ipripreceiveversion2</div>
<div class="para" label-module="para">5、监视和<a target="_blank" href="https://baike.baidu.com/item/%E7%BB%B4%E6%8A%A4">维护</a>RIP</div>
<div class="para" label-module="para" style="TEXT-ALIGN: center"><div class="lemma-picture text-pic layout-center" style="width:220px; margin: 0px auto; display: block; float: none; clear: both;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/c2fdfc039245d688d1a94f0ba5c27d1ed31b24f1?fr=lemma&amp;ct=single" target="_blank" title="" style="width:220px;height:148px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=313e96408cb1cb133a693b11ed5556da/c2fdfc039245d688d1a94f0ba5c27d1ed31b24f1.jpg" alt="" style="width:220px;height:148px;">
</a>
</div></div><div class="anchor-list">
<a name="7_7" class="lemma-anchor para-title"></a>
<a name="sub807_7_7" class="lemma-anchor "></a>
<a name="说明" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>说明</h3>
</div>
<div class="para" label-module="para">上面的列表显示了RIP<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>表的详细信息。</div>
<div class="para" label-module="para">第一列显示的是每条<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>来自哪种方式。如：RIP表示是本<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>从其它<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>学习到的路由，Connect表示该路由是<a target="_blank" href="https://baike.baidu.com/item/%E7%9B%B4%E8%BF%9E%E8%B7%AF%E7%94%B1">直连路由</a>。</div>
<div class="para" label-module="para">第二列的Network指定了该<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a><a target="_blank" href="https://baike.baidu.com/item/%E7%9B%AE%E6%A0%87">目标</a>地址范围。</div>
<div class="para" label-module="para">第三列NextHop是本<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的下一条<a target="_blank" href="https://baike.baidu.com/item/%E5%9C%B0%E5%9D%80">地址</a>。</div>
<div class="para" label-module="para">第四列Metric是本<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%A6%E9%87%8F%E5%80%BC">度量值</a>。</div>
<div class="para" label-module="para">第五列From标明本<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>来自何处。</div>
<div class="para" label-module="para">第六列Time用来显示当前定时器的已经定时<a target="_blank" href="https://baike.baidu.com/item/%E6%97%B6%E9%97%B4">时间</a>长度，当<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>没有过期的时候，显示的是无效定时时间长度，当路由过期时，显示的是删除定时器的时间<a target="_blank" href="https://baike.baidu.com/item/%E9%95%BF%E5%BA%A6">长度</a>。</div><div class="anchor-list">
<a name="8" class="lemma-anchor para-title"></a>
<a name="sub807_8" class="lemma-anchor "></a>
<a name="内部OSPF" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>内部OSPF</h2>
</div>
<div class="para" label-module="para">OSPF(OpenShortestPathFirst）是一个内部网关协议（InteriorGatewayProtocol、简称<a target="_blank" href="https://baike.baidu.com/item/IGP">IGP</a>），用于在单一<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F">自治系统</a>（autonomoussystem、AS)内决策<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>。与RIP相对，OSPF是<a target="_blank" href="https://baike.baidu.com/item/%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">链路状态路由协议</a>，而RIP是<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">距离向量路由协议</a>。链路是<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>接口的另一种说法，因此<a target="_blank" href="https://baike.baidu.com/item/OSPF">OSPF</a>也称为接口状态路由协议。OSPF通过<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间通告网络接口的状态来建立链路状态数据库，生成<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84">最短路径</a><a target="_blank" href="https://baike.baidu.com/item/%E6%A0%91">树</a>，每个OSPF路由器使用这些最短路径<a target="_blank" href="https://baike.baidu.com/item/%E6%9E%84%E9%80%A0">构造</a>路由。内部网关协议（InteriorGatewayProtocols，IGP）用在一个域中交换路由<a target="_blank" href="https://baike.baidu.com/item/%E9%80%89%E6%8B%A9">选择</a>信息，如<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE">路由选择信息协议</a>(RIP）和优先开放最短<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E5%BE%84">路径</a>协议（OSPF）。OSPF是与OSI的IS-IS协议十分相似的内部<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE">路由选择协议</a>。</div>
<div class="para" label-module="para">OSPF是功能最强大、特点最丰富的<a target="_blank" href="https://baike.baidu.com/item/%E5%BC%80%E6%94%BE">开放</a>式<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">路由协议</a>之一。它的复杂性也是其<a target="_blank" href="https://baike.baidu.com/item/%E5%BC%B1%E7%82%B9">弱点</a>来源，因为，设计、建造和操<div class="lemma-picture text-pic layout-right" style="width:220px; float: right;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/0b14ad196f6fd40742a9ad4b?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:158px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss0.bdstatic.com/-4o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=13a1530c251f95caa2f595b4f9167fc5/7a899e510fb30f24c60cba71c895d143ad4b0329.jpg" alt="网关" style="width:220px;height:158px;">
</a>
<span class="description">
网关
</span>
</div>作一个OSPF互联网络，需要比使用几乎每一种其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">路由协议</a>更多的专业知识和精力。采用<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>耗费的<a target="_blank" href="https://baike.baidu.com/item/%E7%BC%BA%E7%9C%81%E5%80%BC">缺省值</a>，可以极大地简化OSPF网络设计。随着关于OSPF及网络<a target="_blank" href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C">操作</a>特点知识的增加，<a target="_blank" href="https://baike.baidu.com/item/%E7%94%A8%E6%88%B7">用户</a>能够慢慢地通过<a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6">控制</a>OSPF变量来优化网络性能。必须小心地设计区和<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91">网络拓扑</a>。做得好，OSPF会使网络用户得到优异的性能和快速的收敛<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9F%E5%BA%A6">速度</a>。BGP用于特大型网络，如INTERNET的<a target="_blank" href="https://baike.baidu.com/item/%E6%A0%B8%E5%BF%83">核心</a>。</div>
<div class="para" label-module="para">OSPF是一种典型的链路状态路由协议。采用OSPF的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>彼此交换并保存整个网络的<a target="_blank" href="https://baike.baidu.com/item/%E9%93%BE%E8%B7%AF">链路</a>信息，从而掌握全网的拓扑结构，独立计算路由。因为RIP路由协议不能服务于大型网络，所以，IETF的IGP工作组特别开发出链路状态协议——OSPF。广为使用的是OSPF第二版，最新标准为RFC2328。OSPF作为一种内部网关协议（InteriorGatewayProtocol，IGP），用于在同一个自治域（AS）中的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间发布路由信息。区别于<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%9D%E7%A6%BB%E7%9F%A2%E9%87%8F%E5%8D%8F%E8%AE%AE">距离矢量协议</a>(RIP），OSPF具有支持大型网络、<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>收敛快、占用网络<a target="_blank" href="https://baike.baidu.com/item/%E8%B5%84%E6%BA%90">资源</a>少等优点，<a target="_blank" href="https://baike.baidu.com/item/%E5%9C%B0%E4%BD%8D">地位</a>。</div><div class="anchor-list">
<a name="8_1" class="lemma-anchor para-title"></a>
<a name="sub807_8_1" class="lemma-anchor "></a>
<a name="链路状态" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>链路状态</h3>
</div>
<div class="para" label-module="para">OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>收集其所在网络区域上各路由器的连接状态信息，即链路状态信息（Link-State），生成链路状态数据库（Link-StateDatabase）。<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>掌握了该区域上所有路由器的链路状态信息，也就等于了解了整个网络的<a target="_blank" href="https://baike.baidu.com/item/%E6%8B%93%E6%89%91">拓扑</a>状况。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>利用“最短路径优先算法（ShortestPathFirst,SPF）”，独立地<a target="_blank" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97">计算</a>出到达任意目的地的路由。</div><div class="anchor-list">
<a name="8_2" class="lemma-anchor para-title"></a>
<a name="sub807_8_2" class="lemma-anchor "></a>
<a name="区域" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>区域</h3>
</div>
<div class="para" label-module="para"><a target="_blank" href="https://baike.baidu.com/item/OSPF%E5%8D%8F%E8%AE%AE">OSPF协议</a>引入“分层路由”的概念，将网络分割成一个“主干”连接的一组相互独立的部分，这些相互独立的部分被称为“区域”（Area），“主干”的部分称为“主干区域”。每个区域就如同一个独立的网络，该区域的OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>只保存该区域的链路状态。每个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的链路状态数据库都可以保持合理的大小，路由计算的时间、报文数量都不会过大。</div><div class="anchor-list">
<a name="8_3" class="lemma-anchor para-title"></a>
<a name="sub807_8_3" class="lemma-anchor "></a>
<a name="OSPF网络分类" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>OSPF网络分类</h3>
</div>
<div class="para" label-module="para">根据<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>所连接的<a target="_blank" href="https://baike.baidu.com/item/%E7%89%A9%E7%90%86%E7%BD%91%E7%BB%9C">物理网络</a>不同，OSPF将网络划分为四种<a target="_blank" href="https://baike.baidu.com/item/%E7%B1%BB%E5%9E%8B">类型</a>：广播多路访问型（BroadcastmultiAccess）、非广播多路访问型（NoneBroadcastMultiAccess，<a target="_blank" href="https://baike.baidu.com/item/NBMA">NBMA</a>）、点到点型（Point-to-Point）、点到多点型（Point-to-MultiPoint）。广播多路访问型网络如：<a target="_blank" href="https://baike.baidu.com/item/Ethernet">Ethernet</a>、TokenRing、<a target="_blank" href="https://baike.baidu.com/item/FDDI">FDDI</a>。NBMA型网络如：FrameRelay、X.25、SMDS。Point-to-Point型网络如：<a target="_blank" href="https://baike.baidu.com/item/PPP">PPP</a>、<a target="_blank" href="https://baike.baidu.com/item/HDLC">HDLC</a>。</div><div class="anchor-list">
<a name="8_4" class="lemma-anchor para-title"></a>
<a name="sub807_8_4" class="lemma-anchor "></a>
<a name="DR和BDR" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>DR和BDR</h3>
</div>
<div class="para" label-module="para">在多路访问网络上，可能存在多个路由器，为了避免路由器之间建立完全相邻关系而引起的大量<a target="_blank" href="https://baike.baidu.com/item/%E5%BC%80%E9%94%80">开销</a>，OSPF要求在区域中选举一个DR。每个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>都与之建立完全相邻关系。DR负责收集所有的链路状态信息，并发布给其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>。选举DR的同时也选举出一个<a target="_blank" href="https://baike.baidu.com/item/BDR">BDR</a>，在DR失效的时候，BDR担负起DR的职责。点对点型网络不需要DR，因为只存在两个<a target="_blank" href="https://baike.baidu.com/item/%E8%8A%82%E7%82%B9">节点</a>，彼此间完全相邻。</div><div class="anchor-list">
<a name="8_5" class="lemma-anchor para-title"></a>
<a name="sub807_8_5" class="lemma-anchor "></a>
<a name="协议组成" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>协议组成</h3>
</div>
<div class="para" label-module="para">OSPF协议由Hello协议、交换协议、扩散协议组成。本文仅介绍Hello协议，其他两个协议可参考RFC2328中的具体描述。</div>
<div class="para" label-module="para">当<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>开启一个端口的OSPF路由时，将会从这个端口发出一个Hello报文，以后它也将以一定的间隔<div class="lemma-picture text-pic " style="width:220px; float: right;">
<a class="image-link" nslog-type="9317" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/6398ecd3f880729da8ec9a54?fr=lemma&amp;ct=single" target="_blank" title="网关" style="width:220px;height:200px;">
<img class="lazy-img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF9fX1AAAA0VQI3QAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=3887b74535fae6cd08b4ac633fb20f9e/4bed2e738bd4b31c28adc2c987d6277f9e2ff82b.jpg" alt="网关" style="width:220px;height:200px;">
</a>
<span class="description">
网关
</span>
</div>周期性地发送Hello报文。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>用Hello报文来初始化新的相邻<a target="_blank" href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB">关系</a>以及确认相邻的路由器<a target="_blank" href="https://baike.baidu.com/item/%E9%82%BB%E5%B1%85">邻居</a>之间的<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E4%BF%A1">通信</a>状态。</div>
<div class="para" label-module="para" style="clear: both;">对广播型网络和非广播型多路访问网络，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>使用Hello协议选举出一个DR。在广播型网络里，Hello报文使用<a target="_blank" href="https://baike.baidu.com/item/%E5%A4%9A%E6%92%AD%E5%9C%B0%E5%9D%80">多播地址</a>224.0.0.5周期性广播，并通过这个过程自动发现<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>邻居。</div>
<div class="para" label-module="para">在<a target="_blank" href="https://baike.baidu.com/item/NBMA">NBMA</a>网络中，DR负责向其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>逐一发送Hello报文。</div>
<div class="para" label-module="para">第一步：建立<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的邻接关系：</div>
<div class="para" label-module="para">所谓“邻接关系”（Adjacency）是指OSPF路由器以交换路由信息为目的，在所选择的相邻路由器之间建立的一种关系。<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>首先发送拥有自身ID<a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E6%81%AF">信息</a>（Loopback端口或最大的IP地址）的Hello报文。与之相邻的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>如果收到这个Hello报文，就将这个报文内的ID信息加入到<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E5%B7%B1">自己</a>的Hello报文内。如果<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的某端口收到从其他路由器发送的含有自身<a target="_blank" href="https://baike.baidu.com/item/ID">ID</a>信息的Hello报文，则它根据该端口所在<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B">网络类型</a>确定是否可以建立邻接关系。在点对点网络中，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>将直接和对端路由器建立起邻接关系，并且该路由器将直接进入到第三步操作：发现其他路由器。若为MultiAccess网络，该<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>将进入选举<a target="_blank" href="https://baike.baidu.com/item/%E6%AD%A5%E9%AA%A4">步骤</a>。</div>
<div class="para" label-module="para">第二步：选举DR/BDR：</div>
<div class="para" label-module="para">不同类型的网络选举DR和BDR的方式不同。MultiAccess网络支持多个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，在这种状况下，OSPF需要建立起作为链路状态和<a target="_blank" href="https://baike.baidu.com/item/LSA">LSA</a>更新的<a target="_blank" href="https://baike.baidu.com/item/%E4%B8%AD%E5%BF%83">中心</a>节点。选举利用Hello报文内的ID和优先权（Priority）字段值来确定。优先权字段值大小从0到255，优先权值最高的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>成为DR。如果优先权值大小一样，则ID值最高的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>选举为DR，优先权值次高的路由器选举为BDR。优先权值和ID值都可以直接设置。</div>
<div class="para" label-module="para">第三步：发现<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>：</div>
<div class="para" label-module="para">在这个步骤中，路由器与路由器之间首先利用Hello报文的ID信息确认主从关系，然后主从路由器相互交换部分链路状态信息。每个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>对信息进行分析比较，如果收到的信息有新的<a target="_blank" href="https://baike.baidu.com/item/%E5%86%85%E5%AE%B9">内容</a>，路由器将要求对方发送完整的链路状态信息。这个状态完成后，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间建立完全相邻（FullAdjacency）关系，同时邻接路由器拥有自己独立的、完整的链路状态<a target="_blank" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a>。在MultiAccess网络内，DR与BDR互换信息，并同时与本<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91">子网</a>内其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>交换链路状态信息。Point-to-Point或Point-to-MultiPoint网络中，相邻<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间信息。</div>
<div class="para" label-module="para">第四步：选择适当的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>：</div>
<div class="para" label-module="para">当一个路由器拥有完整独立的链路状态数据库后，它将采用<a target="_blank" href="https://baike.baidu.com/item/SPF">SPF</a>算法计算并<a target="_blank" href="https://baike.baidu.com/item/%E5%88%9B%E5%BB%BA">创建</a>路由表。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>依据链路状态数据库的内容，独立地用<a target="_blank" href="https://baike.baidu.com/item/SPF">SPF</a>算法计算出到每一个目的网络的路径，并将路径存入路由表中。OSPF利用<a target="_blank" href="https://baike.baidu.com/item/%E9%87%8F%E5%BA%A6">量度</a>（Cost）计算目的路径，Cost最小者即为<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84">最短路径</a>。在配置OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>时可根据实际情况，如链路<a target="_blank" href="https://baike.baidu.com/item/%E5%B8%A6%E5%AE%BD">带宽</a>、<a target="_blank" href="https://baike.baidu.com/item/%E6%97%B6%E5%BB%B6">时延</a>或<a target="_blank" href="https://baike.baidu.com/item/%E7%BB%8F%E6%B5%8E">经济</a>上的<a target="_blank" href="https://baike.baidu.com/item/%E8%B4%B9%E7%94%A8">费用</a>设置链路Cost大小。Cost越小，则该链路被选为<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>的可能性越大。</div>
<div class="para" label-module="para">第五步：维护<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息：</div>
<div class="para" label-module="para">当链路状态发生<a target="_blank" href="https://baike.baidu.com/item/%E5%8F%98%E5%8C%96">变化</a>时，OSPF通过Flooding过程通告网络上其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>接收到包含有新信息的链路状态更新报文，将更新自己的链路状态数据库，然后用SPF算法重新计算路由表。在重新计算过程中，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>继续使用旧<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E8%A1%A8">路由表</a>，直到SPF完成新的路由表计算。新的链路状态信息将发送给其他<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>。值得注意的是，即使链路状态没有发生改变，OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息也会自动更新，默认时间为30<a target="_blank" href="https://baike.baidu.com/item/%E5%88%86%E9%92%9F">分钟</a>。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间使用链路状态<a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E5%91%8A">通告</a>(LSA）来交换各自的链路状态信息，并把获得的信息存储在链路状态数据库中。各OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>独立使用SPF算法计算到各个目的地址的路由。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE%E6%94%AF%E6%8C%81">协议支持</a><a target="_blank" href="https://baike.baidu.com/item/%E5%88%86%E5%B1%82%E8%B7%AF%E7%94%B1">分层路由</a>方式，这使得它的扩展能力远远超过RIP<a target="_blank" href="https://baike.baidu.com/item/%E5%8D%8F%E8%AE%AE">协议</a>。当OSPF网络扩展到100、500甚至上千个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>时，路由器的链路状态数据库将记录成千上万条链路信息。为了使<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的运行更快速、更经济、占用的资源更少，<a target="_blank" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88">网络工程师</a>们通常按功能、结构和需要，把OSPF网络分割成若干个<a target="_blank" href="https://baike.baidu.com/item/%E5%8C%BA%E5%9F%9F">区域</a>，并将这些区域和主干区域根据功能和需要相互连接，从而达到分层的目的。</div><div class="anchor-list">
<a name="8_6" class="lemma-anchor para-title"></a>
<a name="sub807_8_6" class="lemma-anchor "></a>
<a name="OSPF思想" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>OSPF思想</h3>
</div>
<div class="para" label-module="para">OSPF把一个大型网络分割成多个小型网络的能力被称为<a target="_blank" href="https://baike.baidu.com/item/%E5%88%86%E5%B1%82%E8%B7%AF%E7%94%B1">分层路由</a>，这些被分割出来的小型网络就称为“区域”（Area）。由于区域内部<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>仅与同区域的路由器交换<a target="_blank" href="https://baike.baidu.com/item/LSA">LSA</a>信息，这样LSA报文数量及链路状态信息库表项都会极大减少，SPF计算速度因此得到提高。多区域的OSPF必须存在一个主干区域，主干区域负责收集非主干区域发出的汇总<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>信息，并将这些信息返还给到各区域。OSPF区域不能随意划分，应该合理地选择区域边界，使不同区域之间的通信量最小。但在实际应用中区域的划分往往并不是根据通信<a target="_blank" href="https://baike.baidu.com/item/%E6%A8%A1%E5%BC%8F">模式</a>而是根据地理或<a target="_blank" href="https://baike.baidu.com/item/%E6%94%BF%E6%B2%BB">政治</a>因素来完成的。</div><div class="anchor-list">
<a name="8_7" class="lemma-anchor para-title"></a>
<a name="sub807_8_7" class="lemma-anchor "></a>
<a name="四种路由器" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>四种路由器</h3>
</div>
<div class="para" label-module="para">在OSPF多区域网络中，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>可以按不同的需要，同时成为以下四种路由器中的几种：</div>
<div class="para" label-module="para">1、内部路由器：所有端口在同一区域的路由器，维护一个链路状态数据库。</div>
<div class="para" label-module="para">2、<a target="_blank" href="https://baike.baidu.com/item/%E4%B8%BB%E5%B9%B2%E8%B7%AF%E7%94%B1%E5%99%A8">主干路由器</a>：具有连接主干区域端口的路由器。</div>
<div class="para" label-module="para">3、<a target="_blank" href="https://baike.baidu.com/item/%E5%8C%BA%E5%9F%9F%E8%BE%B9%E7%95%8C%E8%B7%AF%E7%94%B1%E5%99%A8">区域边界路由器</a>（<a target="_blank" href="https://baike.baidu.com/item/ABR">ABR</a>）：具有连接多区域端口的路由器，一般作为一个区域的出口。ABR为每一个所连接的区域建立链路状态数据库，负责将所连接区域的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>摘要信息发送到主干区域，而主干区域上的ABR则负责将这些信息发送到各个区域。</div>
<div class="para" label-module="para">4、自治域系统边界路由器(<a target="_blank" href="https://baike.baidu.com/item/ASBR">ASBR</a>）：至少拥有一个连接外部自治域网络（如非OSPF的网络）端口的路由器，负责将非OSPF网络信息传入OSPF网络。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>之间交换链路状态公告（LSA）信息。OSPF的LSA中包含连接的<a target="_blank" href="https://baike.baidu.com/item/%E6%8E%A5%E5%8F%A3">接口</a>、使用的Metric及其他<a target="_blank" href="https://baike.baidu.com/item/%E5%8F%98%E9%87%8F">变量</a>信息。OSPF<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>收集链接状态信息并使用SPF算法来计算到各节点的<a target="_blank" href="https://baike.baidu.com/item/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84">最短路径</a>。</div>
<div class="para" label-module="para">LSA也有几种不同功能的报文，在这里简单地介绍一下：</div>
<div class="para" label-module="para">LSATYPE1：由每台<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>为所属的区域产生的<a target="_blank" href="https://baike.baidu.com/item/LSA">LSA</a>，描述本区域路由器链路到该区域的<a target="_blank" href="https://baike.baidu.com/item/%E7%8A%B6%E6%80%81">状态</a>和<a target="_blank" href="https://baike.baidu.com/item/%E4%BB%A3%E4%BB%B7">代价</a>。一个<a target="_blank" href="https://baike.baidu.com/item/%E8%BE%B9%E7%95%8C%E8%B7%AF%E7%94%B1%E5%99%A8">边界路由器</a>可能产生多个LSATYPE1。</div>
<div class="para" label-module="para">LSATYPE2：由DR产生，含有连接某个区域<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>的所有链路状态和代价信息。只有DR可以<a target="_blank" href="https://baike.baidu.com/item/%E7%9B%91%E6%B5%8B">监测</a>该信息。</div>
<div class="para" label-module="para">LSATYPE3：由ABR产生，含有ABR与本地内部<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>连接信息，可以描述本区域到主干区域的链路信息。它通常汇总缺<a target="_blank" href="https://baike.baidu.com/item/%E7%9C%81">省</a><a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>而不是传送汇总的OSPF信息给其他网络。</div>
<div class="para" label-module="para">LSATYPE4：由ABR产生，由主干区域发送到其他ABR，含有<a target="_blank" href="https://baike.baidu.com/item/ASBR">ASBR</a>的链路信息，与LSATYPE3的<a target="_blank" href="https://baike.baidu.com/item/%E5%8C%BA%E5%88%AB">区别</a>在于TYPE4描述到OSPF网络的外部<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>，而TYPE3则<a target="_blank" href="https://baike.baidu.com/item/%E6%8F%8F%E8%BF%B0">描述</a>区域内路由。</div>
<div class="para" label-module="para">LSATYPE5：由<a target="_blank" href="https://baike.baidu.com/item/ASBR">ASBR</a>产生，含有关于自治域外的链路信息。除了存根区域和完全<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%98%E6%A0%B9">存根</a>区域，LSATYPE5在整个网络中发送。</div>
<div class="para" label-module="para">LSATYPE6：<a target="_blank" href="https://baike.baidu.com/item/%E5%A4%9A%E6%92%AD">多播</a>OSPF(MOSF），MOSF可以让<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>利用链路状态数据库的信息构造用于多播报文的多播发布树。</div>
<div class="para" label-module="para">LSATYPE7：由<a target="_blank" href="https://baike.baidu.com/item/ASBR">ASBR</a>产生的关于NSSA的信息。LSATYPE7可以转换为LSATYPE5。</div><div class="anchor-list">
<a name="9" class="lemma-anchor para-title"></a>
<a name="sub807_9" class="lemma-anchor "></a>
<a name="外部EGP" class="lemma-anchor "></a>
</div><div class="para-title level-2" label-module="para-title">
<h2 class="title-text"><span class="title-prefix">网关</span>外部EGP</h2>
</div>
<div class="para" label-module="para">两个交换选路信息的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>，若分属两个<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F">自治系统</a>，则被称为外部邻站（exteriorneighbors），但它们若同属一个自治<a target="_blank" href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F">系统</a>，则称为内部邻站（interiorneighbors）。外部邻站使用的向其他<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F">自治系统</a><a target="_blank" href="https://baike.baidu.com/item/%E9%80%9A%E5%91%8A">通告</a>可达<a target="_blank" href="https://baike.baidu.com/item/%E4%BF%A1%E6%81%AF">信息</a>的协议被称为外部网关协议<a target="_blank" href="https://baike.baidu.com/item/EGP">EGP</a>（ExteriorGatewayProtocol），使用该协议的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>被称为外部路由器（exteriorrouter）。在Internet网中，EGP显得尤为重要，因为与之相连的<a target="_blank" href="https://baike.baidu.com/item/%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F">自治系统</a>使用它向核心系统通告可达信息。</div><div class="anchor-list">
<a name="9_1" class="lemma-anchor para-title"></a>
<a name="sub807_9_1" class="lemma-anchor "></a>
<a name="三大功能" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>三大功能</h3>
</div>
<div class="para" label-module="para">第一，是它支持邻居获取（neighboracquisition）机制，即允许一个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a><a target="_blank" href="https://baike.baidu.com/item/%E8%AF%B7%E6%B1%82">请求</a>另一个路由器同意交换可达信息。我们可以说，一个<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>获得了（acquire）一个EGP对等路由器（EGPpeer）或一个EGP邻站（EGPneighbor）。EGP对等<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>仅在交换选路信息的<a target="_blank" href="https://baike.baidu.com/item/%E6%84%8F%E4%B9%89">意义</a>上来说是邻站，而不论其地理位置是否邻近。</div>
<div class="para" label-module="para">第二，<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>持续地<a target="_blank" href="https://baike.baidu.com/item/%E6%B5%8B%E8%AF%95">测试</a>其EGP邻站是否能够<a target="_blank" href="https://baike.baidu.com/item/%E5%93%8D%E5%BA%94">响应</a>。</div>
<div class="para" label-module="para">第三，EGP邻站周期性地传送选路更新报文（routing update message）来交换网络可达信息。</div>
<div class="para" label-module="para">和<a target="_blank" href="https://baike.baidu.com/item/GGP">GGP</a>一样，EGP使用一个查询过程来让网关清楚它的相邻网关，并不断地与其相邻者交换<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1">路由</a>和状态信息。EGP是状态<a target="_blank" href="https://baike.baidu.com/item/%E9%A9%B1%E5%8A%A8">驱动</a>的协议，意思是说它依靠于一个反映网关情况的状态表和一组当状态表项变化时必须执行的一组操作。</div><div class="anchor-list">
<a name="9_2" class="lemma-anchor para-title"></a>
<a name="sub807_9_2" class="lemma-anchor "></a>
<a name="九种报文类型" class="lemma-anchor "></a>
</div><div class="para-title level-3" label-module="para-title">
<h3 class="title-text"><span class="title-prefix">网关</span>九种报文类型</h3>
</div>
<div class="para" label-module="para">EGP报文首部：为了实现上述三个基本功能，EGP<a target="_blank" href="https://baike.baidu.com/item/%E5%AE%9A%E4%B9%89">定义</a>了下表所列的九种报文类型：</div>
<div class="para" label-module="para">AcquisitionRequest（获取请求）请求<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>成为邻站（对等路由器）</div>
<div class="para" label-module="para">AcquisitionConfirm（获取<a target="_blank" href="https://baike.baidu.com/item/%E8%AF%81%E5%AE%9E">证实</a>）对获取请求的肯定响应</div>
<div class="para" label-module="para">AcquisitionRefuse（获取<a target="_blank" href="https://baike.baidu.com/item/%E6%8B%92%E7%BB%9D">拒绝</a>）对获取请求的否定响应</div>
<div class="para" label-module="para">CeaseRequest（中止请求）请求中止邻站关系</div>
<div class="para" label-module="para">CeaseConfirm（中止证实）对中止请求的证实响应</div>
<div class="para" label-module="para">Hello（你好）请求邻站回答是否活跃</div>
<div class="para" label-module="para">IHeardYou（我听见你）对Hello报文的回答</div>
<div class="para" label-module="para">PollRequest（轮询请求）请求更新网络的选路</div>
<div class="para" label-module="para">RoutingUpdate（选路更新）网络可达信息</div>
<div class="para" label-module="para">Error（差错）对不正确报文的响应</div>
<div class="para" label-module="para">所有的EGP报文，都有固定的首部用于<a target="_blank" href="https://baike.baidu.com/item/%E8%AF%B4%E6%98%8E">说明</a>报文类型。首部中的<a target="_blank" href="https://baike.baidu.com/item/%E7%89%88%E6%9C%AC">版本</a>（VERSION）<a target="_blank" href="https://baike.baidu.com/item/%E5%AD%97%E6%AE%B5">字段</a>取<a target="_blank" href="https://baike.baidu.com/item/%E6%95%B4%E6%95%B0">整数</a>值，指出该报文使用的EGP的<a target="_blank" href="https://baike.baidu.com/item/%E7%89%88%E6%9C%AC%E5%8F%B7">版本号</a>。接收方检测版本号，以确认双方使用相同版本的协议。类型（TYPE）字段指出报文的类型，而代码（CODE）字段给出了子类型。状态（STATUS）字段包含了与本报文有关的状态信息。EGP使用校验和字段来确认报文的正确到达。其算法与<a target="_blank" href="https://baike.baidu.com/item/IP">IP</a>的<a target="_blank" href="https://baike.baidu.com/item/%E6%A0%A1%E9%AA%8C%E5%92%8C">校验和</a>算法相同。它把整个EGP报文当做16比特整数的<a target="_blank" href="https://baike.baidu.com/item/%E5%BA%8F%E5%88%97">序列</a>，使用各个整数的<a target="_blank" href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6">二进制</a>反码和的二进制反码作为校验和。计算校验和之前，把校验和（CHECKSUM）字段初始化为零，通过填充0，来把报文长度变为16比特的整数倍。自治系统号（AUTONOMOUSSYSTEMNUM）字段，给出了表示发送该报文的<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>所在的自治系统的<a target="_blank" href="https://baike.baidu.com/item/%E7%BC%96%E5%8F%B7">编号</a>，而序号（SEQUENCENUMBER）用于收发双方进行联系。<a target="_blank" href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>请求邻站时赋一个初始序号，以后每次发送报文时将序号增加。邻站回送收到的序号值，发送方便用这个回送值与发送时的值作一比较来确保报文的正确性。</div>
<div class="anchor-list">
<a name="a" class="lemma-anchor a"></a>
</div><div class="album-list">
<div class="header">
<span class="title">词条图册</span>
<a class="more-link" href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992?fr=lemma" target="_blank" nslog-type="10000204">更多图册<em></em></a>
</div>
<div class="scroller">
<div class="list">
</div>
</div>
<div class="footer">
</div>
</div>
<div class="rs-container-foot">
<a name="rs-1"></a>
<a name="rs_807_34792" class="anchor-2"></a>
<div id="rs-container-807-34792" class="rslazy rs-container" lazy-init="lemmars.tableAction(baidu.g(&#39;rs-807-34792&#39;))"><div class="rs-table " id="rs-807-34792" rs-data="{isTop:false,subId:807,entryId:2625454,templateId:0,fentryTableId:34792}">	<div id="rs34792" class="lemma-relation-table clearfix ">		<div class="relation-table-banner relation-banner-807 " id="table-banner-807-34792">			<span class="relation-table-view-control">				<a class="title-folder " href="javascript:void(0)" hidefocus="true" title="收起"></a>			</span>			<h3 class="relation-table-title">通信网络			</h3>		</div>		<div style="" class="relation-table-main" id="relation-table-main-807-34792"></div>		</div></div></div>
</div><script type="text/javascript">
        window.rsInsertData = window['rsInsertData'] || [];
        var rsdataList = {"foot":[{"fentryTableId":34792,"fentryTableName":"\u901a\u4fe1\u7f51\u7edc","fentryTableType":1,"entryId":2625454,"templateId":0,"entryTitle":"\u901a\u4fe1\u7f51\u7edc","isManual":0,"isExpand":1}],"top":[]};

        if (rsdataList.top || rsdataList.foot) {
            rsInsertData.push([807, rsdataList]);
        }
    </script>
<dl class="lemma-reference collapse nslog-area log-set-param" data-nslog-type="2" log-set-param="ext_reference">
<dt class="reference-title">参考资料</dt>
<dd class="reference-list-wrap">
<ul class="reference-list">
<li class="reference-item " id="reference-[1]-807-wrap">
<span class="index">1.</span>
<a class="gotop anchor" name="refIndex_1_807" id="refIndex_1_807" title="向上跳转" href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#ref_[1]_807">&nbsp;&nbsp;</a>
<a rel="nofollow" href="https://baike.baidu.com/redirect/4301axc2D5VpdQp4c9SIK1UYvZbi96StxhNi7wvEBqEoVDIvXgS8iy_VwnoMIoh2Gau2JuXRlsn8Nq06ZEaRGUCp3kOk" target="_blank" class="text">网关<span class="linkout">&nbsp;</span></a>
<span class="site">．中国通信网</span><span>[引用日期2013-01-29]</span></li><li class="reference-item " id="reference-[2]-807-wrap">
<span class="index">2.</span>
<a class="gotop anchor" name="refIndex_2_807" id="refIndex_2_807" title="向上跳转" href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#ref_[2]_807">&nbsp;&nbsp;</a>
<a rel="nofollow" href="https://baike.baidu.com/redirect/f191_RqqRKOq9gqYYB8v3qUao58eChCxM-vTI8Pqe526Js7pownzvlY-K3ZMDW50FV3vofGtvKBO2yXPn65UrksupA_iZ6fhlxaHKw" target="_blank" class="text">网关<span class="linkout">&nbsp;</span></a>
<span class="site">．维基百科中文</span><span>[引用日期2012-12-24]</span></li></ul>
</dd>
</dl>
<div id="open-tag">
<div class="open-tag-title">词条标签：</div>
<dd id="open-tag-item">
<span class="taglist">
<a target="_blank" href="https://baike.baidu.com/wikitag/taglist?tagId=68031">中国电子学会</a>
</span>
，<span class="taglist">
非科学
</span>
，<span class="taglist">
互联网
</span>
</dd>
<div class="open-tag-collapse" id="open-tag-collapse" style="display: none;"></div>
</div>
<div class="clear"></div>
</div>
<div class="side-content">
<div class="summary-pic">
<a href="https://baike.baidu.com/pic/%E7%BD%91%E5%85%B3/98992/0/566d0fdfc7c62c23632798f8?fr=lemma&amp;ct=single" target="_blank" nslog-type="10002401">
<img src="./网关_百度百科_files/8ad4b31c8701a18be9fc814f9e2f07082838fe9f.jpg">
<button class="picAlbumBtn"><em></em><span>图集</span></button>
<div>网关图册</div>
</a>
</div>
<div class="lemmaWgt-promotion-vbaike" style="display: block;">
<div class="promotion_title">V百科<a href="https://baike.baidu.com/vbaike#gallary" target="_blank">往期回顾</a></div>
<div class="promotion_viewport">
<dl style="position: absolute; width: 536px; height: 152px; left: -236.308px;"><dd class="wgt_carousel_aniUnit" style="float: left;">
<a href="http://click.hm.baidu.com/clk?4c9b40ebb6b713b3afe2d88f44b772f6" target="_blank" title="" nslog-type="10002202" nslog-params="{&quot;adId&quot;:&quot;2414&quot;, &quot;adTitle&quot;:&quot;中国单身现状调查&quot;, &quot;adPos&quot;: 1}">
<img src="./网关_百度百科_files/203fb80e7bec54e700e46fd2b3389b504ec26af5.jpg">
</a>
</dd><dd class="wgt_carousel_aniUnit" style="float: left;">
<a href="http://click.hm.baidu.com/clk?f478e86926a931e6d309403a82e94c33" target="_blank" title="" nslog-type="10002202" nslog-params="{&quot;adId&quot;:&quot;2408&quot;, &quot;adTitle&quot;:&quot;出国如何保护自己？&quot;, &quot;adPos&quot;: 1}">
<img src="./网关_百度百科_files/a8ec8a13632762d0415ffd77aaec08fa503dc691.jpg">
</a>
</dd></dl>
<div class="promotion_viewport_pager wgt_horPager">
<span class="pTagBox">
<a href="javascript:;" class="pTag prev" p-index="3"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a>
<a href="javascript:;" class="pTag next" p-index="5"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>
</span>
</div>
</div>
</div><div class="lemmaWgt-promotion-rightPreciseAd" data-lemmaid="98992" data-lemmatitle="网关"></div><div class="lemmaWgt-sideRecommend" style="display: block;">
<a name="zhixinWrap" class="qnAnchor"></a>
<div class="zhixin-box" id="zhixinWrap" data-source="aladdin" data-newlemmaid="98992"><div class="zhixin-group js-group" data-datatype="async">
<h6 class="js-cardTitle">
<span>相关术语</span>
</h6>
<div class="zhixin-fixBtn js-fixBtn">
<div class="openFix" title="若推荐内容有误，请点击纠错进行反馈">纠错</div>
<div class="closeFix">关闭纠错</div>
</div>
<div class="zhixin-list">
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81/100207&quot;,&quot;targetId&quot;:&quot;100207&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81/100207" target="_blank">
<img src="./网关_百度百科_files/cefc1e178a82b901fe67b81a728da9773812efd5.jpg" alt="子网掩码">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81/100207" target="_blank" title="子网掩码">子网掩码</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="100207">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E6%9C%BA%E6%88%BF%E5%B8%83%E7%BA%BF/10490229&quot;,&quot;targetId&quot;:&quot;10490229&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E6%9C%BA%E6%88%BF%E5%B8%83%E7%BA%BF/10490229" target="_blank">
<img src="./网关_百度百科_files/3812b31bb051f81952e702fdd9b44aed2f73e743.jpg" alt="机房布线">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E6%9C%BA%E6%88%BF%E5%B8%83%E7%BA%BF/10490229" target="_blank" title="机房布线">机房布线</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="10490229">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%8E%9F%E7%90%86/2117272&quot;,&quot;targetId&quot;:&quot;2117272&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%8E%9F%E7%90%86/2117272" target="_blank">
<img src="./网关_百度百科_files/3ac79f3df8dcd1006ae324b3788b4710b9122f21.jpg" alt="交换机原理">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%8E%9F%E7%90%86/2117272" target="_blank" title="交换机原理">交换机原理</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="2117272">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA/8465756&quot;,&quot;targetId&quot;:&quot;8465756&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA/8465756" target="_blank">
<img src="./网关_百度百科_files/3801213fb80e7bec833e9e912f2eb9389a506bde.jpg" alt="局域网交换机">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA/8465756" target="_blank" title="局域网交换机">局域网交换机</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="8465756">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8%E6%A1%A5%E6%8E%A5/4237530&quot;,&quot;targetId&quot;:&quot;4237530&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8%E6%A1%A5%E6%8E%A5/4237530" target="_blank">
<img src="./网关_百度百科_files/9358d109b3de9c8228c360a76e81800a19d84370.jpg" alt="路由器桥接">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8%E6%A1%A5%E6%8E%A5/4237530" target="_blank" title="路由器桥接">路由器桥接</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="4237530">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/ping/6235&quot;,&quot;targetId&quot;:&quot;6235&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/ping/6235" target="_blank">
<img src="./网关_百度百科_files/38dbb6fd5266d016ed825bac9e2bd40734fa359f.jpg" alt="ping">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/ping/6235" target="_blank" title="ping">ping</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="6235">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3/2152622&quot;,&quot;targetId&quot;:&quot;2152622&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3/2152622" target="_blank">
<img src="./网关_百度百科_files/4afbfbedab64034fbbebc722adc379310a551deb.jpg" alt="默认网关">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3/2152622" target="_blank" title="默认网关">默认网关</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="2152622">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E5%8A%A8%E6%80%81IP%E5%9C%B0%E5%9D%80/10688515&quot;,&quot;targetId&quot;:&quot;10688515&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E5%8A%A8%E6%80%81IP%E5%9C%B0%E5%9D%80/10688515" target="_blank">
<img src="./网关_百度百科_files/96dda144ad345982b752b7ba0ef431adcbef8439.jpg" alt="动态ip地址">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E5%8A%A8%E6%80%81IP%E5%9C%B0%E5%9D%80/10688515" target="_blank" title="动态ip地址">动态ip地址</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="10688515">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859&quot;,&quot;targetId&quot;:&quot;150859&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859" target="_blank">
<img src="./网关_百度百科_files/b90e7bec54e736d1f35b1ca09b504fc2d46269ca.jpg" alt="ip地址">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859" target="_blank" title="ip地址">ip地址</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="150859">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
</div>
</div>
<div class="zhixin-group js-group" data-datatype="async">
<h6 class="js-cardTitle">
<span>相关词汇</span>
</h6>
<div class="zhixin-fixBtn js-fixBtn">
<div class="openFix" title="若推荐内容有误，请点击纠错进行反馈">纠错</div>
<div class="closeFix">关闭纠错</div>
</div>
<div class="zhixin-list">
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E7%BD%91/99684&quot;,&quot;targetId&quot;:&quot;99684&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E7%BD%91/99684" target="_blank">
<img src="./网关_百度百科_files/dcc451da81cb39dbe175d381d2160924aa1830ab.jpg" alt="以太网">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E4%BB%A5%E5%A4%AA%E7%BD%91/99684" target="_blank" title="以太网">以太网</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="99684">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%B8%83%E7%BA%BF/4186185&quot;,&quot;targetId&quot;:&quot;4186185&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%B8%83%E7%BA%BF/4186185" target="_blank">
<img src="./网关_百度百科_files/023b5bb5c9ea15cef5b846f2b4003af33b87b2f3.jpg" alt="网络布线">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E5%B8%83%E7%BA%BF/4186185" target="_blank" title="网络布线">网络布线</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="4186185">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571&quot;,&quot;targetId&quot;:&quot;100571&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571" target="_blank">
<img src="./网关_百度百科_files/64380cd7912397ddcc6556b45a82b2b7d0a28766.jpg" alt="服务器">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571" target="_blank" title="服务器">服务器</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="100571">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C/169080&quot;,&quot;targetId&quot;:&quot;169080&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C/169080" target="_blank">
<img src="./网关_百度百科_files/728da9773912b31b32c17dd28418367adbb4e198.jpg" alt="无线网络">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C/169080" target="_blank" title="无线网络">无线网络</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="169080">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8/6056836&quot;,&quot;targetId&quot;:&quot;6056836&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8/6056836" target="_blank">
<img src="./网关_百度百科_files/8326cffc1e178a82d7f8c120ff03738da877e86e.jpg" alt="无线路由器">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8/6056836" target="_blank" title="无线路由器">无线路由器</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="6056836">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
<div class="zhixin-item" nslog="area" nslog-type="10000101" nslog-params="{&quot;source&quot;:&quot;aladdin&quot;,&quot;url&quot;:&quot;https://baike.baidu.com/item/%E5%AD%90%E7%BD%91/1186929&quot;,&quot;targetId&quot;:&quot;1186929&quot;}">
<div class="portraitbox">
<a href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91/1186929" target="_blank">
<img src="./网关_百度百科_files/9f2f070828381f30c03449a7a9014c086e06f08b.jpg" alt="子网">
</a>
</div>
<p class="item-title js-name"><a href="https://baike.baidu.com/item/%E5%AD%90%E7%BD%91/1186929" target="_blank" title="子网">子网</a></p>
<div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="1186929">
<a class="submit-trigger" href="javascript:;">有错误</a>
<span class="js-text hidden">已反馈</span>
</div>
</div>
</div>
</div>
</div>
<form id="zhixinErrorForm" class="hidden" action="https://sp2.baidu.com/-uV1bjeh1BF3odCf/index.php/feedback/zx/getData" target="zhixinSubErr" method="post">
<input class="js-url" name="fb_html_url" type="hidden">
<input class="js-query" name="fb_query" type="hidden">
<input class="js-title" name="fb_card_title" type="hidden">
<input class="js-content" name="fb_content" type="hidden">
<input class="js-souceId" name="fb_source_id" type="hidden">
</form>
<iframe id="zhixinSubErr" name="zhixinSubErr" style="display:none" frameborder="0" src="./网关_百度百科_files/saved_resource.html"></iframe>
</div><div class="lemmaWgt-promotion-slide" style="display: block;">
<div class="promotion_viewport">
<dl style="position: absolute; width: 540px; height: 260px; left: -237.941px;"><dd class="wgt_carousel_aniUnit" style="float: left;">
<a href="https://baike.baidu.com/item/%E7%99%BE%E7%A7%91%E5%91%A8%E8%A7%82%E5%BD%B1%E6%8C%87%E5%8D%97%E7%AC%AC60%E6%9C%9F/22093754?fr=aladdin" target="_blank" title="" nslog-type="10002202" nslog-params="{&quot;adId&quot;:&quot;2411&quot;, &quot;adTitle&quot;:&quot;8.29~9.2&quot;, &quot;adPos&quot;: 2}">
<img src="./网关_百度百科_files/72f082025aafa40fb89c0f17a164034f79f019a6.jpg">
</a>
</dd><dd class="wgt_carousel_aniUnit" style="float: left;">
<a href="https://baike.baidu.com/task/203471" target="_blank" title="" nslog-type="10002202" nslog-params="{&quot;adId&quot;:&quot;2433&quot;, &quot;adTitle&quot;:&quot;9.2-6&quot;, &quot;adPos&quot;: 2}">
<img src="./网关_百度百科_files/目录编辑赛.jpg">
</a>
</dd></dl>
<div class="promotion_viewport_pager wgt_horPager"><span class="pTagBox">
<a href="javascript:;" class="pTag prev" p-index="1"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-left"></em></a><span><a href="javascript:;" class="dot pTag cur"><em class="cmn-icon cmn-icons cmn-icons_userbar-new"></em></a><a href="javascript:;" class="dot pTag" p-index="2"><em class="cmn-icon cmn-icons cmn-icons_userbar-new"></em></a><a href="javascript:;" class="dot pTag" p-index="3"><em class="cmn-icon cmn-icons cmn-icons_userbar-new"></em></a></span><a href="javascript:;" class="pTag next" p-index="2"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_arrow-right"></em></a>
</span></div>
</div>
</div><div class="lemmaWgt-promotion-rightBigAd">
</div><div id="side-auth">
<div id="authEdit" class="side-box">
<dl>
<dt class="sidetitle">权威合作编辑</dt>
<dd class="side-auth-content">
<div class="side-auth-img">
<a href="http://www.cast.org.cn/" target="_blank" class="nslog:7075" id="authOrgRightEditPic">
<img style="width: 50px;" onload="this.style.width = &#39;50px&#39;;this.style.display=&#39;&#39;;" src="./网关_百度百科_files/QQ图片20141121003618.jpg" alt="权威编辑" title="权威编辑">
</a>
</div>
<div class="side-auth-info">
<p class="auth-info-name">
<a href="http://www.cast.org.cn/" nslog-type="7075" target="_blank" id="authOrgRightEdit">“科普中国”百科科学词条编写与应用工作项目</a>
</p>
<span id="authDetail">
“科普中国”是为我国科普信息化建设塑造的全...
</span>
</div>
<div class="clear"></div>
</dd>
<dd class="authVersion">
<span style="">
<a class="whatIs" align="absmiddle" href="javascript:void(0);"></a><a href="http://baike.bdimg.com/cms/static/cooperation/content.pdf" target="_blank" nslog-type="36" class="link-toggle" id="whatIsAuthEdit">什么是权威编辑</a>
</span>
<span class="divisionLine"></span>
<a href="https://baike.baidu.com/history/%E7%BD%91%E5%85%B3/73496681" class="nslog:37" target="_blank" id="authEditVersion">查看编辑版本</a>
</dd>
</dl>
</div>
<div id="authResource" class="side-box">
<dl>
<dt class="sidetitle">资源提供</dt>
<dd class="side-auth-content">
<div class="side-auth-img">
<a href="http://www.cie-info.org.cn/" target="_blank" nslog-type="7096">
<img style="width: 50px;" onload="this.style.width = &#39;50px&#39;;this.style.display=&#39;&#39;;" src="./网关_百度百科_files/cie-logo.jpg" alt="资源合作" title="资源合作">
</a>
</div>
<div class="side-auth-info">
<div class="auth-info-name">
<a href="http://www.cie-info.org.cn/" class="nslog:7096" target="_blank">中国电子学会</a>
</div>
<p>中国电子学会（Chinese Instit...</p>
<p>提供资源类型：<span style="color: #555555;">内容</span></p>
</div>
</dd>
<dd class="authVersion">
<span>
<a class="whatIs" align="absmiddle" href="javascript:void(0);"></a>
<a href="http://baike.bdimg.com/cms/static/cooperation/content.pdf" target="_blank" nslog-type="3024" class="link-toggle">什么是资源合作</a>
</span>
</dd>
</dl>
</div>
</div><dl class="side-box lemma-statistics">
<dt class="title">词条统计</dt>
<dd class="description">
<ul>
<li>浏览次数：<span id="j-lemmaStatistics-pv">2460289</span>次</li>
<li>编辑次数：73次<a href="https://baike.baidu.com/historylist/%E7%BD%91%E5%85%B3/98992" class="nslog:1021" target="_blank">历史版本</a></li>
<li>最近更新：<span class="j-modified-time" style="">2015-11-29</span></li>
<li>创建者：<a class="show-userCard" data-uid="12342470" title="查看此用户资料" target="_blank" href="http://www.baidu.com/p/%E7%8B%97%E7%8B%97%E5%A4%A7%E5%90%89" nslog-type="1022">狗狗大吉</a></li>
</ul>
</dd>
</dl>
<div class="side-catalog" style="visibility: hidden; bottom: 10px;">
<div class="side-bar">
<em class="circle start"></em>
<em class="circle end"></em>
</div>
<div class="catalog-scroller">
<dl class="catalog-list">
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#1" class="title-link">
<span class="text">
<span class="title-index">1</span>
<span class="title-link" nslog-type="10002802">概念</span>
</span>
</a>
</dt>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#2" class="title-link">
<span class="text">
<span class="title-index">2</span>
<span class="title-link" nslog-type="10002802">举例说明</span>
</span>
</a>
</dt>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3" class="title-link">
<span class="text">
<span class="title-index">3</span>
<span class="title-link" nslog-type="10002802">设置</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3_1" class="title-link">
<span class="text">
<span class="title-index">3.1</span>
<span class="title-link" nslog-type="10002802">手动</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#3_2" class="title-link">
<span class="text">
<span class="title-index">3.2</span>
<span class="title-link" nslog-type="10002802">自动</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4" class="title-link">
<span class="text">
<span class="title-index">4</span>
<span class="title-link" nslog-type="10002802">区别</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_1" class="title-link">
<span class="text">
<span class="title-index">4.1</span>
<span class="title-link" nslog-type="10002802">协议</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_2" class="title-link">
<span class="text">
<span class="title-index">4.2</span>
<span class="title-link" nslog-type="10002802">外部</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#4_3" class="title-link">
<span class="text">
<span class="title-index">4.3</span>
<span class="title-link" nslog-type="10002802">内部</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5" class="title-link">
<span class="text">
<span class="title-index">5</span>
<span class="title-link" nslog-type="10002802">类型</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5_1" class="title-link">
<span class="text">
<span class="title-index">5.1</span>
<span class="title-link" nslog-type="10002802">传输</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#5_2" class="title-link">
<span class="text">
<span class="title-index">5.2</span>
<span class="title-link" nslog-type="10002802">应用</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6" class="title-link">
<span class="text">
<span class="title-index">6</span>
<span class="title-link" nslog-type="10002802">跨网关</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6_1" class="title-link">
<span class="text">
<span class="title-index">6.1</span>
<span class="title-link" nslog-type="10002802">产品选用</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#6_2" class="title-link">
<span class="text">
<span class="title-index">6.2</span>
<span class="title-link" nslog-type="10002802">安装要点</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7" class="title-link">
<span class="text">
<span class="title-index">7</span>
<span class="title-link" nslog-type="10002802">RIP协议</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_1" class="title-link">
<span class="text">
<span class="title-index">7.1</span>
<span class="title-link" nslog-type="10002802">局限性</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_2" class="title-link">
<span class="text">
<span class="title-index">7.2</span>
<span class="title-link" nslog-type="10002802">实现</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_3" class="title-link">
<span class="text">
<span class="title-index">7.3</span>
<span class="title-link" nslog-type="10002802">RIP的限制</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_4" class="title-link">
<span class="text">
<span class="title-index">7.4</span>
<span class="title-link" nslog-type="10002802">配置</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_5" class="title-link">
<span class="text">
<span class="title-index">7.5</span>
<span class="title-link" nslog-type="10002802">RIP配置实例：</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_6" class="title-link">
<span class="text">
<span class="title-index">7.6</span>
<span class="title-link" nslog-type="10002802">分析</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#7_7" class="title-link">
<span class="text">
<span class="title-index">7.7</span>
<span class="title-link" nslog-type="10002802">说明</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8" class="title-link">
<span class="text">
<span class="title-index">8</span>
<span class="title-link" nslog-type="10002802">内部OSPF</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_1" class="title-link">
<span class="text">
<span class="title-index">8.1</span>
<span class="title-link" nslog-type="10002802">链路状态</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_2" class="title-link">
<span class="text">
<span class="title-index">8.2</span>
<span class="title-link" nslog-type="10002802">区域</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_3" class="title-link">
<span class="text">
<span class="title-index">8.3</span>
<span class="title-link" nslog-type="10002802">OSPF网络分类</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_4" class="title-link">
<span class="text">
<span class="title-index">8.4</span>
<span class="title-link" nslog-type="10002802">DR和BDR</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_5" class="title-link">
<span class="text">
<span class="title-index">8.5</span>
<span class="title-link" nslog-type="10002802">协议组成</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_6" class="title-link">
<span class="text">
<span class="title-index">8.6</span>
<span class="title-link" nslog-type="10002802">OSPF思想</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#8_7" class="title-link">
<span class="text">
<span class="title-index">8.7</span>
<span class="title-link" nslog-type="10002802">四种路由器</span>
</span>
</a>
</dd>
<dt class="catalog-title level1">
<em class="pointer"></em>
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9" class="title-link">
<span class="text">
<span class="title-index">9</span>
<span class="title-link" nslog-type="10002802">外部EGP</span>
</span>
</a>
</dt>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9_1" class="title-link">
<span class="text">
<span class="title-index">9.1</span>
<span class="title-link" nslog-type="10002802">三大功能</span>
</span>
</a>
</dd>
<dd class="catalog-title level2">
<a href="https://baike.baidu.com/item/%E7%BD%91%E5%85%B3/98992?fr=aladdin#9_2" class="title-link">
<span class="text">
<span class="title-index">9.2</span>
<span class="title-link" nslog-type="10002802">九种报文类型</span>
</span>
</a>
</dd>
<a class="arrow" href="javascript:void(0);" style="top: 5px;"></a>
</dl>
</div>
<div class="right-wrap">
<a class="go-up disable" href="javascript:void(0);"></a>
<a class="go-down" href="javascript:void(0);"></a>
</div>
<div class="bottom-wrap">
<a class="toggle-button" href="javascript:void(0);"></a>
<a class="gotop-button" href="javascript:void(0);"></a>
</div>
</div>

<div id="side_box_unionAd" class="unionAd side-box union" style="display: block;">
<div class="union-content" id="cpro_u1997633"><iframe id="iframeu1997633_0" name="iframeu1997633_0" src="./网关_百度百科_files/lcum.html" width="250" height="250" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:250px;height:250px" allowtransparency="true"></iframe></div>
</div>
</div>
</div>
</div>
<div class="after-content">
<div class="fc-guess-like new" id="fc_guess_like_new" style="display: block;">
<span class="logo-du">
<em class="cmn-icon cmn-icons cmn-icons_logo-du"></em>
</span>
<h6>猜你喜欢</h6>
<ul class="cmn-clearfix"><li><a href="https://www.baidu.com/s?wd=gsm%CD%F8%B9%D8&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=0&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">gsm网关</a></li>
<li><a href="https://www.baidu.com/s?wd=%CD%F8%C2%E7%B5%E7%BB%B0%CD%F8%B9%D8&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=0&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">网络电话网关</a></li>
<li><a href="https://www.baidu.com/s?wd=%BA%B9%B0%DF%D4%F5%C3%B4%D6%CE&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=-1&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">汗斑怎么治</a></li>
<li><a href="https://www.baidu.com/s?wd=%BA%B9%B0%DF%D4%F5%C3%B4%D6%CE%C1%C6&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=-1&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">汗斑怎么治疗</a></li>
<li><a href="https://www.baidu.com/s?wd=%CD%F8%B9%D8%B5%E7%BB%B0&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=0&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">网关电话</a></li>
<li><a href="https://www.baidu.com/s?wd=%D3%EF%D2%F4%CD%F8%B9%D8&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=0&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">语音网关</a></li>
<li><a href="https://www.baidu.com/s?wd=%BE%AB%CD%A8java%D0%E8%D2%AA%B6%E0%BE%C3&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=2&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">精通java需要多久</a></li>
<li><a href="https://www.baidu.com/s?wd=lv%B0%FC%B0%FC%B6%E0%C9%D9%C7%AE&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=-1&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">lv包包多少钱</a></li>
<li><a href="https://www.baidu.com/s?wd=lv%B0%FC%B0%FC%BC%DB%B8%F1&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=-1&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">lv包包价格</a></li>
<li><a href="https://www.baidu.com/s?wd=%B6%AB%D1%C7%B9%FA%BC%CA%B9%DC%C0%ED%D1%A7%D4%BA&amp;tn=SE_baikepcxf02_fcetbk02&amp;lqsource=2&amp;dmaseid=dmaseid202&amp;qid=ff0dd9bb3dd8d72a" target="_blank">东亚国际管理学院</a></li>
</ul>
</div>
<div class="bottom-promotion" id="bottom-promotion" style="display: block;">
<div id="BOTTOM_PRO_AD"><iframe id="iframe1120393_0" name="iframe1120393_0" onload="BAIDU_SSP_cacheRequest(&#39;53741f0a852e4f94&#39;, this);" src="./网关_百度百科_files/lcum(1).html" width="960" height="90" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:960px;height:90px" allowtransparency="true"></iframe></div>
</div>
</div>
</div>

<div class="wgt-footer-main">
<div class="content">
<dl class="fresh">
<dt><em class="cmn-icon cmn-icons cmn-icons_footer-fresh"></em>新手上路</dt>
<dd>
<div><a target="_blank" href="https://baike.baidu.com/usercenter/tasks#guide">成长任务</a></div>
<div><a target="_blank" href="https://baike.baidu.com/help#main01">编辑入门</a></div>
<div><a target="_blank" href="https://baike.baidu.com/help#main06">编辑规则</a></div>
<div><a target="_blank" href="https://baike.baidu.com/help#main05">百科术语</a></div>
</dd>
</dl>
<dl class="question">
<dt><em class="cmn-icon cmn-icons cmn-icons_footer-question"></em>我有疑问</dt>
<dd>
<div><a target="_blank" href="https://baike.baidu.com/wikiui/doubt?lemmaId=98992&amp;fr=lemma" nslog-type="10070001">我要质疑</a></div>
<div><a target="_blank" href="https://aikefu.baidu.com/?product=bk001" nslog-type="10000003">在线客服</a></div>
<div><a target="_blank" href="http://tieba.baidu.com/f?ie=utf-8&amp;fr=bks0000&amp;kw=%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91">参加讨论</a></div>
<div><a target="_blank" href="https://baike.baidu.com/feedback">意见反馈</a></div>
</dd>
</dl>
<dl class="suggestion">
<dt><em class="cmn-icon cmn-icons cmn-icons_footer-suggestion"></em>投诉建议</dt>
<dd>
<div><a target="_blank" href="http://tousu.baidu.com/baike/add?word=%E7%BD%91%E5%85%B3&amp;&amp;submit_link=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E7%25BD%2591%25E5%2585%25B3%2F98992%3Ffr%3Daladdin#1">举报不良信息</a></div>
<div><a target="_blank" href="http://tousu.baidu.com/baike/add?word=%E7%BD%91%E5%85%B3&amp;&amp;submit_link=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E7%25BD%2591%25E5%2585%25B3%2F98992%3Ffr%3Daladdin#2">未通过词条申诉</a></div>
<div><a target="_blank" href="http://tousu.baidu.com/baike/add?word=%E7%BD%91%E5%85%B3&amp;&amp;submit_link=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E7%25BD%2591%25E5%2585%25B3%2F98992%3Ffr%3Daladdin#4">投诉侵权信息</a></div>
<div><a target="_blank" href="http://tousu.baidu.com/baike/add?word=%E7%BD%91%E5%85%B3&amp;&amp;submit_link=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E7%25BD%2591%25E5%2585%25B3%2F98992%3Ffr%3Daladdin#3">封禁查询与解封</a></div>
</dd>
</dl>
</div>
<div class="copyright">©2017&nbsp;Baidu&nbsp;<a href="http://www.baidu.com/duty/" target="_blank">使用百度前必读</a>&nbsp;|&nbsp;<a href="http://help.baidu.com/question?prod_en=baike&amp;class=159&amp;id=1047" target="_blank">百科协议</a>&nbsp;|&nbsp;<a href="https://baike.baidu.com/operation/cooperation" target="_blank">百度百科合作平台</a>&nbsp;|&nbsp;<span>京ICP证030173号&nbsp;</span><img class="copyright-img" width="13" height="16" src="./网关_百度百科_files/copy_rignt_24.png"></div>
<p class="recordcode"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11000002000001" target="_blank"><i class="icon-police"></i>京公网安备11000002000001号</a></p>
</div>

<div class="lemmaWgt-searchHeader" style="display: block; opacity: 1;">
<div class="layout cmn-clearfix">
<div class="wgt-searchbar wgt-searchbar-new wgt-searchbar-simple cmn-clearfix ">
<div class="logo-container">
<a class="logo cmn-inline-block" title="到百科首页" href="https://baike.baidu.com/">
<span class="cmn-baike-logo">
<em class="cmn-icon cmn-icons cmn-icons_logo-bai"></em>
<em class="cmn-icon cmn-icons cmn-icons_logo-du"></em>
<em class="cmn-icon cmn-icons cmn-icons_logo-baike"></em>
</span>
</a>
</div>
<div class="search">
<div class="form">
<form id="searchForm" action="https://baike.baidu.com/search/word" method="GET" target="_self">
<input id="query" nslog="normal" nslog-type="10080015" name="word" type="text" autocomplete="off" autocorrect="off" value="网关"><button id="search" nslog="normal" nslog-type="10080013" type="button">进入词条</button>
</form>
<form id="searchLemmaForm" action="https://baike.baidu.com/search" method="GET" target="_self">
<input id="searchLemmaQuery" name="word" type="hidden">
<input name="pn" type="hidden" value="0">
<input name="rn" type="hidden" value="0">
<input name="enc" type="hidden" value="utf8">
</form>
<ul id="suggestion" class="suggestion">
<div class="sug"></div>
<li class="extra">
<span id="close" nslog="normal" nslog-type="10080016">关闭</span>
</li>
</ul>
</div>
</div>
</div>
<div class="tool-buttons">
<a class="toolButtons-edit button j-edit-link" href="javascript:;" nslog-type="10010001"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_edit-hollow"></em>编辑</a>
<a class="toolButtons-collect button" href="javascript:;" nslog-type="10010002"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_star-hollow"></em><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_star-solid"></em>收藏</a>
<a class="toolButtons-vote button top-vote" href="javascript:;" nslog-type="10010003"><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_zan-hollow"></em><em class="cmn-icon wiki-lemma-icons wiki-lemma-icons_zan-solid"></em><span class="j-tool-btn-vote-num">赞</span></a>
</div>
<div class="user-info">
<a class="user-link unlogin" href="https://baike.baidu.com/usercenter" nslog-type="10010008" target="_blank">miaochuanhai</a>
</div>
</div></div>
<div class="new-bdsharebuttonbox new-side-share" id="side-share">
<span class="title">分享</span>
<div class="side-border">
<div class="triangle"></div>
<a class="share-link bds_qzone" href="javascript:void(0);" nslog-type="10060101">
<em class="cmn-icon cmn-icons cmn-icons_logo-qzone"></em>
</a>
<a class="share-link bds_tsina" href="javascript:void(0);" nslog-type="10060301">
<em class="cmn-icon cmn-icons cmn-icons_logo-sina-weibo"></em>
</a>
<a class="bds_wechat" href="javascript:void(0);" nslog-type="10060001">
<em class="cmn-icon cmn-icons cmn-icons_logo-wechat"></em>
</a>
<a class="share-link bds_tqq" href="javascript:void(0);" nslog-type="10060201">
<em class="cmn-icon cmn-icons cmn-icons_logo-qq"></em>
</a>
</div>
</div>
<div class="qrcode-wrapper" id="layer" style="display: none">
<div class="bd_weixin_popup_header">
<em class="cmn-icon cmn-icons cmn-icons_close"></em>
<span>分享到微信朋友圈</span>
</div>
<div id="wechat-qrcode-img"></div>
<div class="bd_weixin_popup_footer">打开微信“扫一扫”即可将网页分享至朋友圈</div>
</div>
<div></div><div></div>
<script type="text/javascript" src="./网关_百度百科_files/wiki-common_sync_js_0_49c6435.js.下载"></script>
<script type="text/javascript">require.resourceMap({"res":{"wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/lemmaInsert.js":{"url":"https://bkssl.bdimg.com/static/wiki-lemma/widget/lemma_content/mainContent/lemmaRelation/lemmaInsert_17d225d.js","pkg":"wiki-lemma:p5","deps":["wiki-common:widget/component/nslog/nslog.js"]},"wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/tangram.js":{"url":"https://bkssl.bdimg.com/static/wiki-lemma/widget/lemma_content/mainContent/lemmaRelation/tangram_1e4b3aa.js","pkg":"wiki-lemma:p5"},"wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReferenceTip/lemmaReferenceTip.js":{"url":"https://bkssl.bdimg.com/static/wiki-lemma/widget/lemma_content/mainContent/lemmaReference/lemmaReferenceTip/lemmaReferenceTip_d50e02d.js","deps":["wiki-common:widget/lib/jquery/jquery.js","wiki-common:widget/util/string.js"]}},"pkg":{"wiki-lemma:p5":{"url":"https://bkssl.bdimg.com/static/wiki-lemma/pkg/wiki-lemma-module-lemmaRelation_15cc52d.js"}}});</script><script type="text/javascript" src="./网关_百度百科_files/PHPJS_3347e0a.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/wiki-common_sync_js_1_803df13.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/userbar-n_d15fcff.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/headTabBar_523bfd9.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/searchbar_ff0ea9e.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/wiki-common_sync_js_2_40d9277.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/wiki-common_sync_js_5_62d9343.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/wiki-lemma_fc15f41.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/XRegExp_3e3f85b.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/shCore_e2d4316.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/shBrushAS3_a7b2d2e.js.下载"></script>
<script type="text/javascript" src="./网关_百度百科_files/zhixin_e6ca52b.js.下载"></script>
<script type="text/javascript">!function(){  var $ = require('wiki-common:widget/lib/jquery/jquery.js'),
    userbar = require('wiki-common:widget/component/userbar-n/userbar-n.js');
    
  userbar.buildUserbar($('#j-wgt-userbar'), null);
}();
!function(){  require('wiki-common:widget/component/headTabBar/headTabBar.js');
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js'),
      initSearchbar = require('wiki-common:widget/component/searchbar-n/searchbar.js');  
    initSearchbar($('.wgt-searchbar-main'));
  }();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var cookie = require('wiki-common:widget/util/cookie.js');
    if (!cookie.get('baikedeclare')) {
        $('#J-declare-wrap').css('display', 'block');
    }
    $('#J-declare-close').on('click', function () {
        // 用户关闭后，不再显示，这里暂设过期时间为1年
        cookie.set('baikedeclare', 'showed', {
            expires: 365 * 60 * 60 * 24 * 1000,
            path: '/'
        });
        $('#J-declare-wrap').css('display', 'none');
    });
}();
!function(){  var $ = require('wiki-common:widget/lib/jquery/jquery.js');

  var timer = '';

  $('.wgt-navbar').on('mouseenter', 'dl', function() {
  clearTimeout(timer);
  timer = setTimeout(function() {
  $('.wgt-navbar').addClass('wgt-navbar-hover');
}, 300);
}).on('mouseleave', function() {
clearTimeout(timer);
$('.wgt-navbar').removeClass('wgt-navbar-hover');
}).on('click', 'a', function() {
clearTimeout(timer);
$('.wgt-navbar').removeClass('wgt-navbar-hover');
});
}();
!function(){                var $ = require('wiki-common:widget/lib/jquery/jquery.js');
                var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

                // 展现策略
                rightCheck.editView('98992', function(res) {
                    if (!res.errno) {
                        if (res.data.edit) {
                            $('.lemmaWgt-lemmaTitle .add-subLemma').css('display', 'inline-block');
                            $('.top-tool .add-sub-icon').css('display', 'inline-block');
                        }
                    } else {
                        if ('') {
                            $('.lemmaWgt-lemmaTitle .add-subLemma').css('display', 'inline-block');
                            $('.top-tool .add-sub-icon').css('display', 'inline-block');
                        }
                    }
                });
                require('wiki-lemma:widget/basicElement/addSub/addSub.js')({                    lemmaId: '98992',                    lemmaTitle: '网关',                    lemmaDesc: '',                    versionId: '94941895',                    subLemmaId: '807'                });
            }();
!function(){        var $ = require('wiki-common:widget/lib/jquery/jquery.js');
        var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

        // 展现策略
        rightCheck.editView('98992', function(res) {
            if (!res.errno) {
                if (res.data.divide) {
                    $('.top-tool .split-icon').css('display', 'block');
                }
            }
        });
    }();
!function(){    var nslog = require('wiki-common:widget/component/nslog/nslog.js');
	require.async("wiki-lemma:widget/basicElement/collect/collect.js",function(collect){
		collect({
            newLemmaId:"98992",
			lemmaId:"807",
			subLemmaId:"807"
		});
	});
}();
!function(){    require.async("wiki-lemma:widget/basicElement/topShare/topShare.js",function(topShare){
        topShare({
            newLemmaId: '98992'
        });
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.lemmaWgt-lemmaTitle .edit-lemma').css('display', 'inline-block');
                // 编辑和申请本人实名验证保证同一行展示
                if ($('.lemmaWgt-lemmaTitle .personal').length > 0) {
                  if ($('.lemmaWgt-lemmaTitle .edit-lemma').offset().left > $('.lemmaWgt-lemmaTitle .personal').offset().left) {
                    $('.lemmaWgt-lemmaTitle .edit-lemma').before('<br/><br/>');
                  }
                }
            } else {
                $('.lemmaWgt-lemmaTitle .lock-lemma').show();
                // 锁定和申请本人实名验证保证同一行展示
                if ($('.lemmaWgt-lemmaTitle .personal').length > 0) {
                  if ($('.lemmaWgt-lemmaTitle .lock-lemma').offset().left > $('.lemmaWgt-lemmaTitle .personal').offset().left) {
                    $('.lemmaWgt-lemmaTitle .lock-lemma').before('<br/><br/>');
                  }
                }
            }
        } else {
            if ('') {
                $('.lemmaWgt-lemmaTitle .edit-lemma').css('display', 'inline-block');
                // 编辑和申请本人实名验证保证同一行展示
                if ($('.lemmaWgt-lemmaTitle .personal').length > 0) {
                  if ($('.lemmaWgt-lemmaTitle .edit-lemma').offset().left > $('.lemmaWgt-lemmaTitle .personal').offset().left) {
                    $('.lemmaWgt-lemmaTitle .edit-lemma').before('<br/><br/>');
                  }
                }
            } else {
                $('.lemmaWgt-lemmaTitle .lock-lemma').show();
                // 锁定和申请本人实名验证保证同一行展示
                if ($('.lemmaWgt-lemmaTitle .personal').length > 0) {
                  if ($('.lemmaWgt-lemmaTitle .lock-lemma').offset().left > $('.lemmaWgt-lemmaTitle .personal').offset().left) {
                    $('.lemmaWgt-lemmaTitle .lock-lemma').before('<br/><br/>');
                  }
                }
            }
        }
    });
}();
!function(){	require('wiki-lemma:widget/lemma_content/mainContent/basicInfo/basicInfo.js')();
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var nslog = require('wiki-common:widget/component/nslog/nslog.js');
    nslog(10002701);
    $('.lemmaWgt-lemmaCatalog a').on('click', function () {
           nslog(10002702);
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

    // 展现策略
    rightCheck.editView('98992', function(res) {
        if (!res.errno) {
            if (res.data.edit) {
                $('.para-title .edit-icon').css('display', 'block');
            }
        } else {
            if ('') {
                $('.para-title .edit-icon').css('display', 'block');
            }
        }
    });
}();
!function(){        SyntaxHighlighter.all();
    }();
!function(){	require.async(["wiki-common:widget/lib/jquery/jquery.js", "wiki-lemma:widget/lemma_content/mainContent/albumList/albumList.js", "wiki-common:widget/component/nslog/nslog.js"],function($,AlbumList,nslog){
		var list=new AlbumList({
			newLemmaId:"98992",
			lemmaTitle:"网关",
			lemmaId:"807",
			subLemmaId:"807",
			data:{"463643":{"coverpic":"faf2b2119313b07ebf3994520cd7912396dd8ce0","desc":"","albumTag":"","height":941,"width":734,"total":6,"coverurl":"https:\/\/gss1.bdstatic.com\/-vo3dSag_xI4khGkpoWK1HF6hhy\/baike\/s%3D235\/sign=3af3d1ce462309f7e36faa11470f0c39\/faf2b2119313b07ebf3994520cd7912396dd8ce0.jpg"},"0":{"coverpic":"566d0fdfc7c62c23632798f8","width":199,"height":111,"desc":"\u8bcd\u6761\u56fe\u7247","total":17,"coverurl":"https:\/\/gss2.bdstatic.com\/-fo3dSag_xI4khGkpoWK1HF6hhy\/baike\/s%3D235\/sign=610ee497d933c895a27e9f78e4137397\/8ad4b31c8701a18be9fc814f9e2f07082838fe9f.jpg"}}
		});
		!!window.ScriptLazyLoad && window.ScriptLazyLoad.regist({
			dom:$('.album-list'),
			loadFunc:function(){
				list.load();
				nslog(1258);
			},
			distance:500
		});
	});
}();
!function(){        require.async(['wiki-lemma:widget/lemma_content/mainContent/lemmaRelation/lemmaInsert.js'], function(init) {
            init({ // 关系化统计需求--传参  shangwenbin
                lemmaId: "807",
                newLemmaId: "98992",
                subLemmaId: "807",
                lemmaTitle: "网关"
            });
        });
    }();
!function(){		require.async(["wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReference.js", "wiki-lemma:widget/lemma_content/mainContent/lemmaReference/lemmaReferenceTip/lemmaReferenceTip.js"],function(Reference,ReferenceTip){
			new Reference({
				subLemmaId:"807"
			});
			new ReferenceTip({
				subLemmaId:"807"
			});
		});
	}();
!function(){        require.async("wiki-common:widget/lib/jquery/jquery.js",function($){
            function openTagToggle(node) {
                if ($(node).hasClass("collapse")) {
                    $(node).removeClass("collapse");
                    $("#open-tag").css("height", '22px');
                } else {
                    $(node).addClass("collapse");
                    $("#open-tag").css("height", $("#open-tag-item").css("height"));
                }
            }
            if (parseInt($("#open-tag-item").css("height")) <= 30) {
                $('#open-tag-collapse').hide();
            }
            $("#open-tag-collapse").on("click", function () {
                openTagToggle($("#open-tag")[0]);
            });
        });
    }();
!function(){        require('wiki-lemma:widget/lemma_content/configModule/zhixin/zhixin.js')(
            98992,
            '网关'
        );
    }();
!function(){    require.async("wiki-lemma:widget/lemma_content/mainContent/lemmaStatistics/lemmaStatistics.js",function(init){
        init({
            newLemmaIdEnc:"35fbbd535c05950ada7ea3a7"
        });
    });
}();
!function(){	require.async("wiki-lemma:widget/lemma_content/mainContent/sideCatalog/sideCatalog.js",function(SideCatalog){
		new SideCatalog();
	});
}();
!function(){        require.async(["wiki-lemma:widget/promotion/fengchao/fengchao.js", "wiki-lemma:widget/promotion/unionAd/unionAd.js"], function (init, unionAd) {
            init({
                newLemmaId: "98992",
                lemmaTitle: "网关",
                encodeLemmaTitle: "%CD%F8%B9%D8",
                adManager: {"wapRelatedBusiness":1}
            }, {
                errFn: unionAd,
                dom: $('#side_box_unionAd')
            });
        });
    }();
!function(){        require.async('wiki-lemma:widget/promotion/guessLike/guessLike.js', function (app) {
            app.init({
                lemmaTitle: '网关',
                adManager: {"wapRelatedBusiness":1}
            });
        });
    }();
!function(){            require.async('wiki-lemma:widget/promotion/bottomAd/bottomAd.js', function (init) {
                init({
                    sId: 'BOTTOM_PRO_AD',
                    adManager: {"wapRelatedBusiness":1}
                });
            });
        }();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var Dialog = require("wiki-common:widget/ui/dialog/dialog.js");
    var userLogin = require('wiki-common:widget/component/userLogin/userLogin.js');
    var unameFiller = require('wiki-common:widget/component/unameFiller/unameFiller.js');
    var rightCheck = require('wiki-lemma:widget/tools/rightCheck/rightCheck.js');

            var isEnterprise = false;
        var enterpriseOwnerUserId = 0;
    
    var userId = 0;
    var editUrl = '/edit/' + encodeURIComponent('网关') + '/' + '98992';
    var pgcUrl = '/enterprise/editpgc?lemmaId=98992';

    userLogin.regist({
        onLogin: function(user) {
            userId = user ? user.uid : 0;
        }
    });

    function gotoEdit(url, isMidNight) {
        if (isMidNight) {
            Dialog.alert({
                title: '编辑提示',
                subMsg: '晚23:00至次日8:00，因审核系统例行维护，您提交的版本可能需要较长时间才能通过，望您谅解。',
                onConfirm: function() {
                    window.location.href = url;
                }
            });
        } else {
            window.location.href = url;
        }    
    }

    function showChoseEditDialog(pgcCallback, ugcCallback) {
        new Dialog({
            title: '编辑提示',
            subMsg: '<p>您已开通企业百科服务，推荐您直接编辑“官方资料”，官方资料仅限企业百科绑定的百科账号修改，其他用户账号不可修改。</p><p>如果您想修改其他网友编辑的普通词条内容，请注意遵守百科百科编辑规则。<p>',
            btns: [{
            key: 'pgc',
            text: '编辑官方资料'
            }, {
            style: 'white',
            text: '修改普通词条',
            key: 'ugc'
            }],
            onBtnClick: function(btnKey){
                if (btnKey === 'pgc') {
                    pgcCallback && pgcCallback();
                } else if (btnKey === 'ugc') {
                    ugcCallback && ugcCallback();
                }
            }
        }).show();
    }

    function checkUserLegal(res) {
        var legal = false;
        switch (res.errno) {
            case 100001:
                userLogin.showLoginPop();
                break;
            case 100006:
                unameFiller.show();
                break;
            default:
                legal = true;
        }
        return true;
    }

    function checkUgc(res, url) {
        if (res.errno) {
            switch (res.errno) {
                case 100005:
                    alert('对不起，您目前被封禁');
                    break;
                case 110001:
                    alert('对不起，该词条被锁定');
                    break;
                case 110007:
                    alert('对不起，消歧页无法编辑');
                    break;
                case 110005:
                    Dialog.alert({
                    title: '编辑提示',
                    mainMsg: '对不起，您暂时没有权限编辑该词条。',
                    subMsg: '<p>您好，该词条内容已较丰富，现仅对百科等级达到<b>四级</b>且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p><img src="https://bkssl.bdimg.com/img/baike/usercenter/growuptask/star.gif" class="star" />参加<a target="_blank" href="/usercenter#guide">成长任务</a>，更快掌握百科编辑技巧，加速升级！</p>'
                    });
                    break;
                case 110008:
                    Dialog.alert({
                    title: '编辑提示',
                    mainMsg: '对不起，您暂时没有权限编辑该词条。',
                    subMsg: '<p>您好，该词条内容已较丰富，现仅对百科等级达到<b>六级</b>且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p><img src="https://bkssl.bdimg.com/img/baike/usercenter/growuptask/star.gif" class="star" />参加<a target="_blank" href="/usercenter#guide">成长任务</a>，更快掌握百科编辑技巧，加速升级！</p>'
                    });
                    break;
                case 470001:
                    alert('系统错误，请刷新重试');
                    break;
            }
        } else {
            if (!res.data.right.noAudit) {
                Dialog.alert({
                    title: '编辑提示',
                    subMsg: '很抱歉，该词条有其他用户编辑的版本正在提交，您暂时无法编辑。<br/>百科建议您晚些时候再编辑该词条，或者尝试编辑其他的词条。'
                });
                return;
            }
            gotoEdit(url, res.data.notice.isMidNight);
        }
    }

    $(document.body).on('click', '.j-edit-link', function() {
        var dl = $(this).attr('data-edit-dl');
        if (dl) {
            var url = editUrl + '?dl=' + dl;
        } else {
            var url = editUrl;
        }

        rightCheck.preeditCheck('98992', '网关', '网关', '94941895', function(res) {
            if (!checkUserLegal(res)) {
                return;
            }
            if (isEnterprise && enterpriseOwnerUserId === userId) {
                showChoseEditDialog(function() {
                    location.href = pgcUrl;
                }, function() {
                    checkUgc(res, url);
                });
            } else {
                checkUgc(res, url);
            }
        });
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js'),
      initSearchbar = require('wiki-common:widget/component/searchbar-n/searchbar.js');  
    initSearchbar($('.wgt-searchbar-simple'));
  }();
!function(){    require.async("wiki-lemma:widget/tools/searchHeader/toolButtons-n/toolButtons.js",function(init){
        init({
            lemmaId:"807",
            subLemmaId:"807",
            newLemmaId:"98992"
        });
    });
}();
!function(){    require('wiki-lemma:widget/tools/searchHeader/toolButtons-n/userInfo.js')();
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js'),
      animation = require('wiki-common:widget/util/animation.js'),
      nslog = require('wiki-common:widget/component/nslog/nslog.js'),
      initSearchbar = require('wiki-common:widget/component/searchbar/searchbar.js');

    var isFadeIn = false,
        isFadeOut = false;

    var fadeInAni, fadeOutAni;

    $(window).on('scroll', function(e) {
        var scrollTop = $(this).scrollTop();

        if (scrollTop > 200 && !isFadeIn && $('.lemmaWgt-searchHeader').css('display') == 'none') {
            fadeOutAni && fadeOutAni.stop();
            fadeInAni = animation({
                duration: 200,
                easing: 'linear',
                onStart: function() {
                    isFadeOut = false;
                    isFadeIn = true;
                    $('.lemmaWgt-searchHeader').css('display', 'block');
                },
                onStep: function(progress) {
                    $('.lemmaWgt-searchHeader').css('opacity', progress)
                },
                onComplete: function(progress) {
                    isFadeIn = false;
                    nslog(10010007);
                }
            });
        } else if (scrollTop <= 200 && !isFadeOut && $('.lemmaWgt-searchHeader').css('display') == 'block') {
            fadeInAni && fadeInAni.stop();
            fadeOutAni = animation({
                duration: 300,
                easing: 'linear',
                onStart: function() {
                    $('.lemmaWgt-searchHeader #suggestion').hide();
                    isFadeIn = false;
                    isFadeOut = true;
                },
                onStep: function(progress) {
                    $('.lemmaWgt-searchHeader').css('opacity', 1 - progress);
                },
                onComplete: function(progress) {
                    isFadeOut = false;
                    $('.lemmaWgt-searchHeader').css('display', 'none');
                }
            });
        }
    });
}();
!function(){    require('wiki-lemma:widget/tools/newSideShare/qzopensl.js');
    require.async("wiki-lemma:widget/tools/newSideShare/taskSideShare.js",function(taskShare){
        taskShare.init({
            title: '网关',
            desc: "\u7f51\u5173(Gateway)\u53c8\u79f0\u7f51\u95f4\u8fde\u63a5\u5668\u3001\u534f\u8bae\u8f6c\u6362\u5668\u3002\u7f51\u5173\u5728\u7f51\u7edc\u5c42\u4ee5\u4e0a\u5b9e\u73b0\u7f51\u7edc\u4e92\u8fde\uff0c\u662f\u6700\u590d\u6742\u7684\u7f51\u7edc\u4e92\u8fde\u8bbe\u5907\uff0c\u4ec5\u7528\u4e8e\u4e24\u4e2a\u9ad8\u5c42\u534f\u8bae\u4e0d\u540c\u7684\u7f51\u7edc\u4e92\u8fde\u3002\u7f51\u5173\u65e2\u53ef\u4ee5\u7528\u4e8e\u5e7f\u57df\u7f51\u4e92\u8fde\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c40\u57df\u7f51\u4e92\u8fde\u3002 \u7f51\u5173\u662f\u4e00\u79cd\u5145\u5f53\u8f6c\u6362\u91cd\u4efb\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u6216\u8bbe\u5907\u3002\u4f7f\u7528\u5728\u4e0d\u540c\u7684\u901a\u4fe1\u534f\u8bae\u3001\u6570\u636e\u683c\u5f0f\u6216\u8bed\u8a00\uff0c\u751a\u81f3\u4f53\u7cfb\u7ed3\u6784",
            pic: 'https:\/\/gss2.bdstatic.com\/-fo3dSag_xI4khGkpoWK1HF6hhy\/baike\/w%3D268\/sign=1dda24325aafa40f3cc6c9db9364038c\/8ad4b31c8701a18be9fc814f9e2f07082838fe9f.jpg',
            url: '',
            qqPic: 'https:\/\/gss2.bdstatic.com\/-fo3dSag_xI4khGkpoWK1HF6hhy\/baike\/pic\/item\/8ad4b31c8701a18be9fc814f9e2f07082838fe9f.jpg',
            newLemmaId: '98992',
            lemmaTitle: '网关'
        });
    });
}();
!function(){    var $ = require('wiki-common:widget/lib/jquery/jquery.js');
    var nslog = require("wiki-common:widget/component/nslog/nslog.js");
    var testElem = require('wiki-common:widget/component/testElem/testElem.js');
    var cmsModuleLoader = require('wiki-common:widget/component/cmsModuleLoader/cmsModuleLoader.js');

    function requireAsync() {
        require.async('wiki-lemma:widget/tools/announcement/announcement.js');
    }

    cmsModuleLoader('/api/wikiui/getlemmaconfig', [{
        name: 'announcement',
        script: 'wiki-lemma:widget/tools/announcement/announcement.js'
    }]);

    require.async("wiki-lemma:widget/tools/lazyLoad/lazyLoad.js", function(LazyLoad) {
        new LazyLoad();
    });

    require.async(['wiki-common:widget/component/nslog/nslog.js', 'wiki-common:widget/lib/jquery/jquery.js'], function(nslog, $) {
        nslog().setGlobal({
            lemmaId: "807",
            newLemmaId: "98992",
            subLemmaId: "807",
            lemmaTitle: "网关"
        });

        // 词条页 pv
        nslog(9322);

        // 新版头部pv（小流量）
        if ($('.pc-header-new').length > 0) {
            nslog(9069);
        }

        // 链接点击 pv
        var lemmaPageRegExp = new RegExp(/\/subview\/\d+|\/view\/\d+|\/item\//i);
        $('body').on('mousedown', 'a', function() {
            var href = $(this).attr('href');
            if (href && href.indexOf('/') >= 0 && href.indexOf('#') !== 0) {
                // 链接点击 pv
                nslog(10000001);
                if (lemmaPageRegExp.test(href)) {
                    // 词条页链接点击 pv
                    nslog(10000002, window.location.href, {
                        targetTitle: $(this).text()
                    });
                }
            }
        });

        /****** 词条页站内流转需求统计 start ******/
        (function () {
            // 各种统计配置
            var circulationLinkCfg = {
                innerLink: [ // 内链
                    '.para',
                    '.lemmaWgt-baseInfo-simple-largeMovie',
                    '.lemmaWgt-baseInfo-simple-largeStar',
                    '.basic-info .basicInfo-block',
                    '.lemma-summary',
                    '.lemmaWgt-lemmaSummary',
                    '.view-tip-panel',
                    '.horizontal-module',
                    '.lemmaWgt-roleIntroduction',
                    '.dramaSeries .dramaSerialList',
                    '.module-music',
                    '.table-view',
                    '[log-set-param="table_view"]',
                    '.list-module',
                    '.cell-module',
                    '.baseBox .dl-baseinfo', // 配置后台字段
                    '.pvBtn-box .leadPVBtnWrapper',
                    '.drama-actor',
                    '#staffList',
                    '.starMovieAndTvplay',
                    '.main_tab:not(.main_tab-defaultTab)' // 除去词条tab外的tab
                ],
                relationTable: '.rs-container-foot', // 关系表
                peopleRelation: '.star-info-block.relations, .lemmaWgt-focusAndRelation', // 人物关系（明星+普通）
                moduleActors: '.featureBaseInfo .actors, .lemmaWgt-majorActors', // 主要演员、嘉宾、主持人
                moduleWorks: '.featureBaseInfo .works, .large-feature .works', // 代表作品
                moduleQuarterly: '.featureBaseInfo .po_quarterly, .mian_quarterly', // 分季介绍
                rankStar: '.rank-list.stars-rank', // 明星榜
                rankDrama: '.drama-rank-list', // 电视剧榜
                specialTopic: '.special-topic', // 专题模块
                modDetailTable: '#modDetailTable', // 关系表出图
                chuizhitu: '.chuizhitu', // 垂直化模块
                polysemantList: '.polysemantList-wrapper' // 义项切换
            };
            /****** 连接统计 ******/
            function clickNslogFn() {
                for (var k in circulationLinkCfg) {
                    if (k === 'innerLink') {
                        // 词条内链到词条页
                        var tempArr = circulationLinkCfg[k];
                        for (var i = 0, l = tempArr.length; i < l; i++) {
                            tempArr[i] += ' a';
                        }
                        var sSelector = tempArr.join(', ');

                        $('body').on('mousedown', sSelector, {key: k},function(e) {
                            var key = e.data.key;
                            var href = $(this).attr('href');
                            var tar = $(this).attr('target') || '';
                            if (href && href.indexOf('/') >= 0 && href.indexOf('#') !== 0
                            && tar === '_blank' && lemmaPageRegExp.test(href)) {
                                // 词条页普通内链点击 pv
                                nslog(10000004, null ,{division: key});
                            }
                        });
                    } else {
                        // 模块到词条页链接
                        $(circulationLinkCfg[k]).on('mousedown', 'a', {key: k}, function (e) {
                            var key = e.data.key;
                            var href = $(this).attr('href');
                            if (href && href.indexOf('#') !== 0 && lemmaPageRegExp.test(href)) {
                                // 词条页配置模块链接点击 pv
                                nslog(10000004, null, {division: key});
                            }
                        });
                    }
                }
            }
            // 发起统计请求
            clickNslogFn();

            /****** 各模块展现量pv ******/
            function checkModuleIsShow() {
                var result = [];
                for (var k in circulationLinkCfg) {
                    if (k !== 'innerLink' && k !== 'relationTable') {
                        !!$(circulationLinkCfg[k]).html() && result.push(k);
                    }
                }
                if (result.length > 0) {
                    nslog(10000005, null, {showModules: result.join(',')});
                }
            }
            checkModuleIsShow();

        })();
        /****** 词条页站内流转需求统计 end ******/

    });

    // 广告接入 wikiad 统一加载
    // log 词条页广告被拦截情况（此处 log 请求行为）
    nslog(70000101, window.location.href, {
        api: 'lemma-ad',
        action: 'request'
    });
    $.ajax({
        type: 'GET',
        url: '/api/wikiad/getsquirrels',
        data: {
            lemmaId: 98992
        },
        cache: false,
        dataType: 'JSON',
        success: function (res) {
            // log 词条页广告被拦截情况（此处 log 请求成功）
            nslog(70000101, window.location.href, {
                api: 'lemma-ad',
                action: 'success'
            });

            if (!res.errno) {
                if (res.data[5]) {
                    require.async(['wiki-lemma:widget/promotion/rightPreciseAd/rightPreciseAd.js'], function(rightPreciseAd) {
                        rightPreciseAd(res.data[5]);
                        nslog(10002201, location.href, {
                            adId: res.data[5][0].adId,
                            adTitle: res.data[5][0].name,
                            adPos: 5
                        });
                    });
                } else if (res.data[1]) {
                                        require.async(['wiki-lemma:widget/promotion/vbaike/vbaike.js'], function(vbaike) {
                        vbaike(res.data[1]);
                        for(var i in res.data[1]) {
                            nslog(10002201, location.href, {
                                adId: res.data[1][i].adId,
                                adTitle: res.data[1][i].name,
                                adPos: 1
                            });
                        }
                    });
                                    }
                if (res.data[9]) {
                                        require.async(['wiki-lemma:widget/promotion/rightBigAd/rightBigAd.js'], function(rightBigAd) {
                        rightBigAd(res.data[9]);
                            nslog(10002201, location.href, {
                                adId: res.data[9][0].adId,
                                adTitle: res.data[9][0].name,
                                adPos: 9
                            });
                    });
                                    } else if(res.data[2]) {
                    require.async(['wiki-lemma:widget/promotion/slide/slide.js'], function(slide) {
                        slide(res.data[2]);
                        for(var i in res.data[2]) {
                            nslog(10002201, location.href, {
                                adId: res.data[2][i].adId,
                                adTitle: res.data[2][i].name,
                                adPos: 2
                            });
                        }
                    });
                }
                if (res.data[3]) {
                                        require.async(['wiki-lemma:widget/promotion/topAd/topAd.js'], function(topAd) {
                        topAd(res.data[3]);
                        nslog(10002201, location.href, {
                            adId: res.data[3][0].adId,
                            adTitle: res.data[3][0].name,
                            adPos: 3
                        });
                    });
                                    }
                if (res.data[4]) {
                                        require.async(['wiki-lemma:widget/promotion/rightAd/rightAd.js'], function(rightAd) {
                        rightAd(res.data[4]);
                        nslog(10002201, location.href, {
                            adId: res.data[4][0].adId,
                            adTitle: res.data[4][0].name,
                            adPos: 4
                        });
                    });
                                    }
                if (res.data[15]) {
                    require.async(['wiki-lemma:widget/promotion/banner/banner.js'], function(banner) {
                        banner(res.data[15]);
                        nslog(10002201, location.href, {
                            adId: res.data[15][0].adId,
                            adTitle: res.data[15][0].name,
                            adPos: 15
                        });
                    });
                }
                if (res.data[16]) {
                    require.async(['wiki-lemma:widget/promotion/declaration/declaration.js'], function(declaration) {
                        declaration(res.data[16]);
                        nslog(10002201, location.href, {
                            adId: res.data[16][0].adId,
                            adTitle: res.data[16][0].name,
                            adPos: 16
                        });
                    })
                }
            } else {
                return;
            }

            setTimeout(function () {
                var elemArr = {};
                res.data[1] && res.data[1].length > 0 && (elemArr['lemma-vbaike-ad'] = $('.lemmaWgt-promotion-vbaike .promotion_viewport a:eq(0) img').get(0));
                res.data[2] && res.data[2].length > 0 && (elemArr['lemma-slide-ad'] = $('.lemmaWgt-promotion-slide .promotion_viewport a:eq(0) img').get(0));
                res.data[3] && res.data[3].length > 0 && (elemArr['lemma-navbar-ad'] = {
                    node: $('.header [nslog-type="10002202"]').get(0),
                    validations: {
                        'noBackgroundImage': function() {
                            return $('.header [nslog-type="10002202"]').css('background-image').indexOf(res.data[3][0].picUrl) < 0
                        }
                    }
                });
                res.data[4] && res.data[4].length > 0 && (elemArr['lemma-side-ad'] = {
                    node: $('.right-ad img').get(0),
                    validations: {
                        'noBackgroundImage': function() {
                            return $('.right-ad img').attr('src').indexOf(res.data[4][0].picUrl) < 0
                        }
                    }
                });
                res.data[15] && res.data[15].length > 0 && (elemArr['lemma-configModule-banner'] = $('.configModuleBanner').get(0));
                res.data[16] && res.data[16].length > 0 && (elemArr['lemma-configModule-declaration'] = $('.lemmaWgt-declaration').get(0));

                testElem.log(elemArr, 70000102);
            }, 1000);
        },
        error: function () {
            // log 词条页广告被拦截情况（此处 log 请求失败）
            nslog(70000101, window.location.href, {
                api: 'lemma-ad',
                action: 'error'
            });
        }
    });

    // 设置分享内容
    window.BKShare.setCommon({
        bdText: "\u3010\u7f51\u5173_\u767e\u5ea6\u767e\u79d1\u3011\u7f51\u5173(Gateway)\u53c8\u79f0\u7f51\u95f4\u8fde\u63a5\u5668\u3001\u534f\u8bae\u8f6c\u6362\u5668\u3002\u7f51\u5173\u5728\u7f51\u7edc\u5c42\u4ee5\u4e0a\u5b9e\u73b0\u7f51\u7edc\u4e92\u8fde\uff0c\u662f\u6700\u590d\u6742\u7684\u7f51\u7edc\u4e92\u8fde\u8bbe\u5907\uff0c\u4ec5\u7528\u4e8e\u4e24\u4e2a\u9ad8\u5c42\u534f\u8bae\u4e0d\u540c\u7684\u7f51\u7edc\u4e92\u8fde\u3002\u7f51\u5173\u65e2\u53ef\u4ee5\u7528\u4e8e\u5e7f\u57df\u7f51\u4e92\u8fde\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c40\u57df\u7f51\u4e92\u8fde\u3002 \u7f51\u5173\u662f\u4e00\u79cd\u5145\u5f53\u8f6c\u6362\u91cd\u4efb\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u6216\u8bbe\u5907\u3002\u4f7f\u7528\u5728\u4e0d\u540c\u7684\u901a\u4fe1\u534f\u8bae\u3001\u6570\u636e\u683c\u5f0f\u6216\u8bed\u8a00\uff0c\u751a\u81f3\u4f53\u7cfb\u7ed3\u6784.....\uff08\u5206\u4eab\u81ea@\u767e\u5ea6\u767e\u79d1\uff09",
        bdDesc: '',
        bdUrl: 'http:\/\/baike.baidu.com\/subview\/807\/807.htm',
        bdPic: '',
        onBeforeClick: function (){
            $('.bdshare_dialog_box').hide();
        }
    });

    // 底部投诉带入当前页面 url
    var map = [1, 2, 4, 3];
    $('.wgt-footer-main .suggestion').find('a').each(function(i) {
        $(this).attr('href', 'http://tousu.baidu.com/baike/add?word=%E7%BD%91%E5%85%B3' + '&&submit_link=' + encodeURIComponent(window.location.href) + '#' + map[i]);
    });

    // 为超出预设内容的表格添加table-responsive控制
    $('.main-content').find('table').each(function(index) {
        var $that = $(this);
        if ($that.width() > 790) {
            $that.wrap('<div class="table-responsive"></div>');
        }
    });
}();
!function(){      require('wiki-common:widget/component/psLink/psLink.js');
    }();</script><div class="wgt_overlay" style="opacity: 0; position: fixed;"></div><dl class="wgt_dialog modal add-sub-dialog" style="display: none;">
<dt>添加义项描述<a href="https://baike.baidu.com/view/10811633.htm" target="_blank">义项命名规则</a></dt>
<dd class="close dialog-btn" title="关闭" btn-key="close"><em class="cmn-icon cmn-icons cmn-icons_close"></em></dd>
<dd class="con no-icon no-sub-msg">
<div class="add-sub">                        <div class="content-inner">                            <div class="tip">您需要给原有的义项和新增加的义项都写一个“义项描述”，让读者能分清楚同名的两个事物。</div>                            <div class="example">                                <div class="example-tit">示例</div>                                <div class="example-show">                                    <ul>                                        <li class="show-li clearfix"><div class="tit">词条名</div><div class="content">环太平洋</div></li>                                        <li class="show-li clearfix"><div class="tit">原有义项描述</div><div class="content">地理区域</div></li>                                        <li class="show-li clearfix"><div class="tit">新增义项描述</div><div class="content">2013年美国科幻电影</div></li>                                    </ul>                                </div>                            </div>                            <form action="https://baike.baidu.com/createsub/%E7%BD%91%E5%85%B3" method="get">                                <div class="form-item name-lemma clearfix"><label for="">词条名</label><input type="text" value="网关" disabled="disabled"></div>                                <div class="form-item clearfix"><label for="">原有义项描述(不大于20字)</label><input type="text" value="" name="ori_desc"></div>                                <div class="form-item clearfix"><label for="">新增义项描述(不大于20字)</label><input type="text" value="" name="desc"></div>                                <div class="form-item form-notice"><strong>[注意]</strong>如果原义项中已经罗列了多个义项的内容，那么建议您不要直接添加义项，而是<a href="http://tieba.baidu.com/p/4152042379" target="_blank">报告未拆分多义词。</a></div>                                <div class="add-sub-main-footer"><input type="submit" class="add-sub-main-button add-sub-main-accept" value="确定"><span class="add-sub-main-button add-sub-main-cancel">取消</span></div>                            </form>                        </div>                    </div>
</dd>
</dl>
<script type="text/javascript">
  var Hunter = window.Hunter || {};
  Hunter.userConfig = Hunter.userConfig || [];
  </script>
<script type="text/javascript" src="./网关_百度百科_files/baike.js.下载" defer=""></script><script type="text/javascript">
  // DOM Ready时，统计用户可操作时间。
  alog('speed.set', 'drt', +new Date);

  void function(a,b,c,d,e,f){function g(b){a.attachEvent?a.attachEvent("onload",b,!1):a.addEventListener&&a.addEventListener("load",b)}function h(a,c,d){d=d||15;var e=new Date;e.setTime((new Date).getTime()+1e3*d),b.cookie=a+"="+escape(c)+";path=/;expires="+e.toGMTString()}function i(a){var c=b.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=c?unescape(c[2]):null}function j(){var a=i("PMS_JT");if(a){h("PMS_JT","",-1);try{a=a.match(/{["']s["']:(\d+),["']r["']:["']([\s\S]+)["']}/),a=a&&a[1]&&a[2]?{s:parseInt(a[1]),r:a[2]}:{}}catch(c){a={}}a.r&&b.referrer.replace(/#.*/,"")!=a.r||alog("speed.set","wt",a.s)}}if(a.alogObjectConfig){var k=a.alogObjectConfig.sample,l=a.alogObjectConfig.rand;d="https:"===a.location.protocol?"https://fex.bdstatic.com"+d:"http://fex.bdstatic.com"+d,k&&l&&l>k||(g(function(){alog("speed.set","lt",+new Date),e=b.createElement(c),e.async=!0,e.src=d+"?v="+~(new Date/864e5)+~(new Date/864e5),f=b.getElementsByTagName(c)[0],f.parentNode.insertBefore(e,f)}),j())}}(window,document,"script","/hunter/alog/dp.min.js");
</script>

<div class="wgt_bubble wgt-bubble-userMenu" style="display: none;"><ul>
<li class="top"><a href="https://baike.baidu.com/usercenter" target="_blank">我的百科</a></li>
<li><a href="https://baike.baidu.com/usercenter/tasks#mine" target="_blank">我的任务</a></li>
<li><a href="https://baike.baidu.com/usercenter/lemmas" target="_blank">我的词条</a></li>
<li><a href="https://passport.baidu.com/center" target="_blank">账号设置</a></li>
<li class="bottom logout"><a data-action="logout" href="javascript:;">退出</a></li>
</ul><em class="tail"></em></div><div class="reference-tip"><table><tbody><tr><td class="content"></td><td class="title" valign="middle">参考资料</td></tr></tbody></table><em class="triangle-bg"></em><em class="triangle-border"></em></div><div class="wgt_bubble wgt-bubble-userMsg" style="display: none;"><ul>
<li class="top"><a href="https://baike.baidu.com/messages" target="_blank"><span class="userMsgType">通知</span></a></li><li class="bottom"><a href="https://gsp0.baidu.com/8_UFsjip0QIZ8tyhnq/" target="_blank"><span class="userMsgType">私信</span></a></li>
</ul><em class="tail"></em></div></body></html>